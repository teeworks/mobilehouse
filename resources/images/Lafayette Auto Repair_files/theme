/*!
 * UIC Controls plugin.
 * By: Kukui Corporation
 * Version: 1.0.0
 * Updated: January 22th, 2016
 *
 * Copyright Â© 2016 Kukui Corporation. All rights reserved.
 */
(function(n,t,i){if(n.cms_utilities_version==="1.0.0"){n.uic_controls_version="1.0.0";var u=n(t),r=n(i);n.fn.uicSetState=function(){for(var n,t=0;t<arguments.length;t++)n=arguments[t],n=="visible"?this.removeClass("uic-active uic-hidden").addClass("uic-visible").show():n=="hidden"?this.removeClass("uic-active uic-visible").addClass("uic-hidden").hide():n=="active"?this.removeClass("uic-visible uic-hidden").addClass("uic-active"):n=="not-active"?this.removeClass("uic-active"):n=="selected"?this.addClass("uic-selected"):n=="not-selected"&&this.removeClass("uic-selected");return this};n.fn.uicIsActive=function(){return this.hasClass("uic-active")};n.fn.uicIsSelected=function(){return this.hasClass("uic-selected")};n.fn.uicFadeIn=function(t,i,r,u){return this.hasClass("uic-visible")?this:(this.css("opacity")==1&&this.css({opacity:0}),t=(n.isFunction(t)?(u=t)&&!1:t)||0,i=(n.isFunction(i)?(u=i)&&!1:i)||1,r=(n.isFunction(r)?(u=r)&&!1:r)||"swing",u=u||n.isFunction(u)&&u||null,this.uicSetState("active").fadeTo(t,i,r,function(){i>0&&n(this).uicSetState("visible").show();u&&u(this)}))};n.fn.uicFadeOut=function(t,i,r,u){return this.hasClass("uic-hidden")?this:(this.css("opacity")==0&&this.css({opacity:1}),t=(n.isFunction(t)?(u=t)&&!1:t)||0,i=(n.isFunction(i)?(u=i)&&!1:i)||0,r=(n.isFunction(r)?(u=r)&&!1:r)||"swing",u=u||n.isFunction(u)&&u||null,this.uicSetState("active").fadeTo(t,i,r,function(){i<=0&&n(this).uicSetState("hidden").hide();u&&u(this)}))};n.fn.uicSlideUp=function(t,i,r){return t=(n.isFunction(t)?(r=t)&&!1:t)||0,i=(n.isFunction(i)?(r=i)&&!1:i)||"swing",r=r||n.isFunction(r)&&r||null,this.uicSetState("active").slideUp(t,i,function(){n(this).uicSetState("hidden");r&&r(this)})};n.fn.uicSlideDown=function(t,i,r){return t=(n.isFunction(t)?(r=t)&&!1:t)||0,i=(n.isFunction(i)?(r=i)&&!1:i)||"swing",r=r||n.isFunction(r)&&r||null,this.uicSetState("active").slideDown(t,i,function(){n(this).uicSetState("visible");r&&r(this)})};n.fn.uicAnimate=function(n,t){t=t||{};switch(n){case"fadein":return this.uicFadeIn(t.duration||400,t.opacity||1,t.easing,t.complete);case"fadeout":return this.uicFadeOut(t.duration||400,t.opacity||0,t.easing,t.complete);case"slideup":return this.uicSlideUp(t.duration||400,t.easing,t.complete);case"slidedown":return this.uicSlideDown(t.duration||400,t.easing,t.complete);default:return this}};n.uicPanels={create:function(t){return t=n.extend({key:"uic-panel"},t),n("[data-"+t.key+"]").uicPanel(t)},animate:function(t,i){var c=t.data(i.triggerKey),f=t.data(i.actionKey),u=n("[data-"+i.panelKey+'="'+c+'"]'),l=n("[data-"+i.triggerKey+'="'+c+'"]'),r;switch(f){case"show":r="fadein";break;case"hide":r="fadeout";break;case"fadein":case"fadeout":r=u.is(":hidden")?"fadein":"fadeout";break;case"slideup":case"slidedown":r=u.is(":hidden")?"slidedown":"slideup";break;case"display":r=u.is(":hidden")?"fadein":"fadeout";break;case"fade":r=u.is(":hidden")?"fadein":"fadeout";break;case"slide":r=u.is(":hidden")?"slidedown":"slideup";break;default:r=u.is(":hidden")?"fadein":"fadeout"}var a=!f||f=="show"||f=="hide"||f=="display",e=r=="fadein"||r=="slidedown",o={duration:t.data(i.actionDurationKey)||i.duration,easing:t.data(i.actionEasingKey)||i.easing},v="[data-"+i.actionKey+'="fade"],[data-'+i.actionKey+'="slide"],[data-'+i.actionKey+'="display"]',s="[data-"+i.actionKey+'="fadein"],[data-'+i.actionKey+'="slidedown"],[data-'+i.actionKey+'="show"]',h="[data-"+i.actionKey+'="fadeout"],[data-'+i.actionKey+'="slideup"],[data-'+i.actionKey+'="hide"]';n.executeChain(n.createChain(function(){return a||u.uicAnimate(r,o),l.filter(v).uicSetState("active",e?"selected":"not-selected").end().filter(e?h:s).uicSetState("hidden").end().filter(e?s:h).uicAnimate("fadeout",o)},function(){return a?u.uicAnimate(r,o):u},function(){return l.filter(v).uicSetState("not-active").end().filter(e?s:h).uicSetState("hidden").end().filter(e?h:s).uicAnimate("fadein",o)}),i.complete)},adjust:function(t,i){return t.each(function(){var r=n(this),u=r.data(i.panelKey),t=r.hasClass("uic-visible");r.uicSetState(t?"visible":"hidden");n("[data-"+i.triggerKey+'="'+u+'"]').each(function(){var r=n(this);switch(r.data(i.actionKey)){case"show":case"fadein":case"slidedown":r.uicSetState(t?"hidden":"visible");break;case"hide":case"fadeout":case"slideup":r.uicSetState(t?"visible":"hidden");break;default:r.uicSetState(t?"selected":"not-selected")}})}),t}};n.fn.uicPanel=function(t){t=n.extend({key:"uic-panel",easing:"swing",duration:400,complete:null},t);t=n.extend({panelKey:t.key,triggerKey:t.key+"-trigger",actionKey:t.key+"-action",actionDurationKey:t.key+"-action-duration",actionEasingKey:t.key+"-action-easing"},t);var i=this.filter("[data-"+t.panelKey+"]");if(i.length){n.uicPanels.adjust(i,t);r.off("."+t.key).on("click."+t.key,"[data-"+t.triggerKey+"]",function(){var i=n(this);i.uicIsActive()||n.uicPanels.animate(i,t)})}return this};n.uicSRatings={create:function(t){return t=n.extend({key:"uic-rating"},t),n("[data-"+t.key+"]").uicSRating(t)},getvalue:function(n){return n.length?(1e15+parseFloat(n.val())*10+"").slice(-2):0},setvalue:function(t,i){t.find('input[value~="'+i+'"]').prop("checked","checked");n.uicSRatings.mark(t,i)},mark:function(n,t){n.removeClass(function(n,t){return(t.match(/(^|\s+)rating-?\d+(\s+|$)/g)||[]).join(" ")}).addClass("rating-"+t)}};n.fn.uicSRating=function(t){t=n.extend({key:"uic-rating",change:null},t);var i=this.filter("[data-"+t.key+"]");return i.length&&i.off("."+t.key).on("mouseenter","input",function(t){var i=n(this),r=n(t.delegateTarget);n.uicSRatings.mark(r,n.uicSRatings.getvalue(i))}).on("click","input",function(i){var r=n(this),u=n(i.delegateTarget);n.uicSRatings.mark(u,n.uicSRatings.getvalue(r));t.change&&t.change(this)}).on("mouseleave",function(){var t=n(this),i=n.uicSRatings.getvalue(t.find("input:checked"));n.uicSRatings.mark(t,i)}).trigger("mouseleave"),this};n.uicFormControls={mark:function(t){var i=n(t);i.is(":radio")&&(i=n(':radio[name="'+t.name+'"]'));i.each(function(){var i=n(this),r=n('label[for="'+this.id+'"]'),t=i.is(":checked")?"selected":"not-selected";i.uicSetState(t);r.uicSetState(t);r.toggleClass("selected",t=="selected")})},adjust:function(){n(":checkbox,:radio").each(function(){n.uicFormControls.mark(this)})},attach:function(t){t=n.extend({key:"uic-formcontrols"},t);n.uicFormControls.adjust();r.off("."+t.key).on("change."+t.key,":checkbox,:radio",function(){n.uicFormControls.mark(this)}).on("ajaxready",function(t){n(t.eventTargets).find(":checkbox,:radio").each(function(){n.uicFormControls.mark(this)})})}};n.uicScrollTo={create:function(t){return t=n.extend({key:"uic-scrollto"},t),n("[data-"+t.key+"]").uicScrollTo(t)}};n.fn.uicScrollTo=function(i){function u(n){var i=t.eventObserver.info(),r=i.X>=i.W/3,u=i.Y>=i.H/3;n.toggleClass("uic-scrollto-x",r).toggleClass("uic-scrollto-y",u).stop(!0,!1).uicAnimate(r||u?"fadein":"fadeout")}function e(r){var f=t.eventObserver.info(),e=r.data(i.key)||"body",u=n(e).offset()||{top:0,left:0},o=r.data("uic-scrollto-duration")||Math.max(500,Math.max(Math.abs(u.left-f.X),Math.abs(u.top-f.Y))/2),s=r.data("uic-scroll-easing")||"swing";n("html, body").animate({scrollLeft:u.left,scrollTop:u.top},o,s)}i=n.extend({key:"uic-scrollto",complete:null},i);r.off("."+i.key).on("click."+i.key,"[data-"+i.key+"]",function(){e(n(this))});var f=this.filter("[data-"+i.key+"]");return f.length&&f.each(function(){var r=n(this);(r.data(i.key)==""||r.data(i.key)=="body")&&(u(r),r.data("uic-iswindowobserving")||(r.data("uic-iswindowobserving",!0),t.eventObserver.attach(function(){u(r)},{X:50,Y:50})))}),this};n.uicLayoutPush={create:function(i){function r(){n("[data-"+i.key+"]").each(function(){var r=n(this),s;r.css("min-height","0");var u=t.eventObserver.info(),o=u.H,h=u.totalH,f=0,e=r.data(i.key);e=="auto"?f=o<h?o-(h-r.outerHeight(!0)):r.height()+(o-n("body").outerHeight(!0)):isNaN(parseInt(e))?e!=""&&(s=0,n(e).each(function(){s+=n(this).outerHeight(!0)}),f=Math.max(u.H,u.totalH)-s+(r.outerHeight(!0)-r.height())):f=Math.max(u.H,u.totalH)-parseInt(e);f>0&&r.css("min-height",f)})}i=n.extend({key:"uic-layoutpush"},i);r();u.on("load",r);t.eventObserver.attach(r,{W:10,H:10})}};n.uicAccordion={create:function(t){return t=n.extend({key:"uic-accordion"},t),n("[data-"+t.key+"]").uicAccordion(t)}};n.fn.uicAccordion=function(t){t=n.extend({key:"uic-accordion",duration:400,easing:"swing"},t);var i=this.filter("[data-"+t.key+"]");if(i.length){i.each(function(){var i=n(this);i.find("[data-"+t.key+"-panel]").filter(".uic-visible").uicSetState("selected").each(function(){i.find("[data-"+t.key+'-trigger="'+n(this).data(t.key+"-panel")+'"]').uicSetState("selected")}).end().filter(":not(.uic-visible)").uicSetState("not-selected").each(function(){i.find("[data-"+t.key+'-trigger="'+n(this).data(t.key+"-panel")+'"]').uicSetState("not-selected")}).uicAnimate("slideup",t).end()});r.off("."+t.key).on("click."+t.key,"[data-"+t.key+"-trigger]",function(){var i=n(this),r=i.closest("[data-"+t.key+"]"),u=r.find("[data-"+t.key+'-panel="'+i.data(t.key+"-trigger")+'"]');r.find("[data-"+t.key+"-trigger]").not(i).uicSetState("not-selected");i.uicSetState("selected");r.find("[data-"+t.key+"-panel]").not(u).uicSetState("not-selected").stop(!0,!1).uicAnimate("slideup",t);u.uicSetState("selected").stop(!0,!1).uicAnimate("slidedown",t)})}return this};n.uicTabs={create:function(t){return t=n.extend({key:"uic-tab"},t),n("[data-"+t.key+"]").uicTabs(t)}};n.fn.uicTabs=function(t){t=n.extend({key:"uic-tabs",duration:400,easing:"swing"},t);t=n.extend({tabsKey:t.key,panelKey:t.key+"-panel",triggerKey:t.key+"-trigger"},t);var i=this.filter("[data-"+t.key+"]");if(i.length){i.each(function(){var r=n(this),i=r.find("[data-"+t.triggerKey+"]"),u=r.find("[data-"+t.panelKey+"]");i.uicSetState("not-selected");u.uicSetState("not-selected","hidden");i.first().uicSetState("selected");u.filter("[data-"+t.panelKey+'="'+i.first().data(t.triggerKey)+'"]').uicSetState("selected","visible")});r.off("."+t.key).on("click."+t.key,"[data-"+t.triggerKey+"]",function(){var i=n(this),r=i.closest("[data-"+t.tabsKey+"]"),u=r.find("[data-"+t.panelKey+'="'+i.data(t.triggerKey)+'"]');r.find("[data-"+t.panelKey+"]").stop(!0,!1).filter(function(){return n(this).uicIsSelected()}).uicFadeOut(t.duration,0,t.easing,function(){r.find("[data-"+t.triggerKey+"],[data-"+t.panelKey+"]").uicSetState("not-selected");i.uicSetState("selected");u.uicSetState("selected").uicFadeIn(t.duration,1,t.easing)})})}return this};n.uicPhoneLinks={create:function(){if(!n.browser.mobile)r.on("click",'a[href^="tel:"]',function(){return e.stopPropagation(),e.preventDefault(),!1})}};n.uicSocialLoader={create:function(r){r=n.extend({fbSelector:".fb-comments,.fb-comment-embed,.fb-post,.fb-video,.fb-follow,.fb-like,.fb-page,.fb-quote,.fb-save,.fb-send,.fb-share-button",gpSelector:".g-plusone,g\\:plusone,.g-follow,g\\:follow,.g-hangout,g\\:hangout,.g-person,g\\:person,.g-plus,g\\:plus",twSelector:".twitter-tweet,.twitter-timeline,.twitter-share-button,.twitter-dm-button,.twitter-follow-button"},r);r.fbSelector&&n(r.fbSelector).length&&function(n,t,i){var r,u=n.getElementsByTagName(t)[0];n.getElementById(i)||(r=n.createElement(t),r.id=i,r.src="//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.6",r.async=!0,r.defer=!0,u.parentNode.insertBefore(r,u))}(i,"script","facebook-jssdk");r.gpSelector&&n(r.gpSelector).length&&function(){var n=i.createElement("script"),t;n.type="text/javascript";n.src="//apis.google.com/js/platform.js";n.async=!0;n.defer=!0;t=i.getElementsByTagName("script")[0];t.parentNode.insertBefore(n,t)}();r.twSelector&&n(r.twSelector).length&&(t.twttr=function(n,i,r){var u,e=n.getElementsByTagName(i)[0],f=t.twttr||{};return n.getElementById(r)?f:(u=n.createElement(i),u.id=r,u.src="//platform.twitter.com/widgets.js",u.async=!0,u.defer=!0,e.parentNode.insertBefore(u,e),f._e=[],f.ready=function(n){f._e.push(n)},f)}(i,"script","twitter-wjs"))}};n.uicResponsiveNavigations={create:function(i){function e(){f.filter(":visible").each(function(){var t=n(this);u.filter("[data-"+i.navKey+'="'+t.data(i.triggerKey)+'"]').each(function(){var i=n(this);t.uicIsSelected()?i.uicSetState("visible","selected"):i.uicSetState("hidden","not-selected")})}).end().filter(":hidden").each(function(){u.filter("[data-"+i.navKey+'="'+n(this).data(i.triggerKey)+'"]').uicSetState("visible")}).end()}i=n.extend({key:"uic-nav",easing:"swing",duration:400,complete:null},i);i=n.extend({navKey:i.key,triggerKey:i.key+"-trigger"},i);var f=n("[data-"+i.triggerKey+"]"),u=n(f.map(function(){return"[data-"+i.navKey+'="'+n(this).data(i.triggerKey)+'"]'}).get().join(","));e();t.eventObserver.attach(function(){e()},{W:10});r.off("."+i.key).on("click."+i.key,"[data-"+i.triggerKey+"]",function(){var t=n(this),r=t.data(i.key+"-action-duration")||i.duration,f=t.data(i.key+"-action-easing")||i.easing;u.filter("[data-"+i.navKey+'="'+t.data(i.triggerKey)+'"]').each(function(){var i=n(this);t.uicIsSelected()?i.uicSlideUp(r,f,function(){t.uicSetState("not-selected");i.uicSetState("not-selected","hidden")}):(t.uicSetState("selected"),i.uicSetState("selected").uicSlideDown(r,f))})})}};n.uicClassToggle={create:function(t){t=n.extend({key:"uic-csstoggle"},t);t=n.extend({itemKey:t.key,triggerKey:t.key+"-trigger",valueKey:t.key+"-value"},t);r.off("."+t.key).on("click."+t.key,"[data-"+t.triggerKey+"]",function(){var i=n(this),r=n("[data-"+t.itemKey+'="'+i.data(t.triggerKey)+'"]');r.toggleClass(i.data(t.valueKey))})}};n.uicNavigation={create:function(t){t=n.extend({key:"uic-navigation",visibleCssClass:"nav-visible",hiddenCssClass:"nav-hidden",enableTouchSupport:!0,touchTargetChildrenSelector:"",touchTargetSiblingSelector:"ul"},t);t=n.extend({itemKey:t.key,triggerKey:t.key+"-trigger"},t);r.off("."+t.key);r.on("click."+t.key,"[data-"+t.triggerKey+"]",function(){var r=n(this),i=n("[data-"+t.itemKey+'="'+r.data(t.triggerKey)+'"]');i.hasClass(t.visibleCssClass)||i.hasClass(t.hiddenCssClass)?i.toggleClass(t.visibleCssClass+" "+t.hiddenCssClass):i.is(":visible")?i.addClass(t.hiddenCssClass):i.addClass(t.visibleCssClass)});if(t.enableTouchSupport&&n.browser.support.touch)r.on("click."+t.key+" touchstart."+t.key+" MSPointerDown."+t.key,"[data-"+t.itemKey+"] a",function(i){var r=n(i.target),u=r.find(t.touchTargetChildrenSelector).add(r.siblings(t.touchTargetSiblingSelector)),f;u.length&&(i.type=="touchstart"||i.type=="MSPointerDown"?(f=r.data("uic-touchflag"),typeof f=="undefined"?(r.data("uic-touchflag",!0),u&&u.length&&(u.is(":hidden")?u.fadeIn():u.hide().show())):f==!0&&r.data("uic-touchflag",!1)):i.type=="click"&&r.data("uic-touchflag")===!0&&(i.preventDefault(),i.stopPropagation()))})}}}})(window.jQuery,window,document);
/*!
 * UIC Maps plugin.
 * By: Kukui Corporation
 * Version: 1.0.0
 * Updated: February 8th, 2016
 *
 * Copyright Â© 2016 Kukui Corporation. All rights reserved.
 */
$.uicMaps=function(n,t,i){if(n.cms_utilities_version==="1.0.0"&&n.cms_component_version==="1.0.0"){n.uic_maps_plugin_version="1.0.0";var c=n(t),e=n(i),u=!1,f=!1,o=function(t,i){var f,o,e,u;if(n.isEmpty(t)){i([]);return}for(f=0,o=0,e=0;e<t.length;e++)u=t[e],u.lat&&u.lng?(u.LatLng=new google.maps.LatLng(u.lat,u.lng),f++,t.length==f&&i(t)):function(n,u){setTimeout(function(){var u=n.street+" "+n.city+", "+n.region+" "+n.zip;r.MapsGeocoderService.geocode({address:u},function(r,u){n.LatLng=u==google.maps.GeocoderStatus.OK?r[0].geometry.location:null;f++;t.length==f&&i(t)})},u)}(u,o++%10==0?500:0)},s=function(t,i){o(t.config.markers.dataSource,function(r){for(var u,f=0;f<r.length;f++)u=r[f],t.markers.push(new google.maps.Marker(n.extend(!0,{dataSource:u,position:u.LatLng,title:Sys.Cms.Tmp.Parse(t.config.markers.titleTemplate,u),infoWindow:new google.maps.InfoWindow(n.extend(!0,{content:Sys.Cms.Tmp.Parse('<div data-uic-map-infowindow="{{id}}">'+t.config.infoWindows.contentTemplate+"<\/div>",u)},t.options.infoWindows))},t.options.markers)));i(t)})},h=function(t,i,u,f){var e={id:t.data("uic-map"),mapDom:t.get(0),map:null,markers:[],directions:{from:"",to:"",rendererService:new google.maps.DirectionsRenderer},options:n.extend(!0,{map:{zoom:18,panControl:!0,mapTypeId:google.maps.MapTypeId.ROADMAP,center:null,scrollwheel:!1,zoomControlOptions:{style:google.maps.ZoomControlStyle.MEDIUM,position:google.maps.ControlPosition.TOP_LEFT},gestureHandling:"auto"},markers:{animation:google.maps.Animation.DROP},infoWindows:{maxWidth:250}},i),config:n.extend(!0,{map:{},markers:{dataSource:[],initializationTime:1e3,titleTemplate:"{{STREET}} {{CITY}}, {{REGION}} {{ZIP}}"},infoWindows:{openedByDefault:!0,openedByDefaultMinCount:3,contentTemplate:'<div class="map-infowindow"><h3>{{NAME}}<\/h3><img src="{{IMAGEURL}}" alt="{{NAME}}" /><p>{{STREET}}<br />{{CITY}}, {{REGION}} {{ZIP}}<br/><b>{{PHONE}}<\/b><\/p><a target="_blank" rel="nofollow" href="http://maps.google.com/maps?saddr=&daddr={{STREET}} {{CITY}}, {{REGION}} {{ZIP}}" title="Get directions.">Directions<\/a><\/div>'},handlers:{onWindowResize:r.FitMapInCurrentBounds}},u)};if(n.isEmpty(e.config.markers.dataSource)&&(e.config.markers.dataSource=Sys.Cms.DS.locations||[]),t.data("uicMapData",e),n.isEmpty(e.config.markers.dataSource)==!1){s(e,function(n){f(n)});return}e.options.map.center==null&&(e.options.map.center=new google.maps.LatLng(0,0));f(e);return},r={};return r.APIKey=(Sys.Cms.DS.directions||{}).apikey,r.MapsDirectionsService=null,r.MapsGeocoderService=null,r.InitMapsServices=function(t,i){var f,e;if(u)t();else{if((i=i||1)>10)return;if(typeof google!="object"||typeof google.maps!="object"){f=n.setQueryStringParameter("autoload",'{modules:[{name: "maps", version: "3.", other_params: '+(n.isEmpty(r.APIKey)?'""':'"key='+r.APIKey+'"')+"}]}","https://www.google.com/jsapi");n.loadScript(f,function(){r.InitMapsServices(t,i+1)});return}if(n.isEmpty(r.MapsDirectionsService)||n.isEmpty(r.MapsGeocoderService)){e=setInterval(function(){google.maps.DirectionsService&&(clearInterval(e),r.MapsDirectionsService=new google.maps.DirectionsService,r.MapsGeocoderService=new google.maps.Geocoder,r.InitMapsServices(t))},50);return}u=!0;t();return}},r.InitMapsHandlers=function(){function i(){n("[data-uic-map]").each(function(){var t=n(this).data("uicMapData");if(t&&t.map)t.config.handlers.onWindowResize(t)})}if(!f){t.eventObserver.detach(i);t.eventObserver.attach(i,{W:10});e.off(".uic-maps").on("keydown.uic-maps","[data-uic-map-directionfrom]",function(t){if(t.which==13){var r=n(this),i=n('[data-uic-map-trigger="'+r.data("uic-map-directionfrom")+'"]');if(i.length)return i.trigger("click"),t.preventDefault(),!1}}).on("click.uic-maps","[data-uic-map-trigger]",function(i){var u=n(this),o=u.data("uic-map-trigger"),s=n('[data-uic-map="'+o+'"]').data("uicMapData"),e=u.data("uic-map-action"),f,h;e=="update"?(i.preventDefault(),r.InitMapRoute(s)):e=="clear"?(i.preventDefault(),r.ClearMapRoute(s)):e=="reset"?(i.preventDefault(),r.ClearMapRoute(s)):e=="redirect"&&u.is("a")&&(f=n('[data-uic-map-directionfrom="'+o+'"]'),n.isEmptyOrDefault(f.val(),f.data("placeholder")||"")||u.attr("href",n.setQueryStringParameter("mapfrom",f.val(),u.attr("href"))),h=n('[data-uic-map-directionto="'+o+'"]'),n.isEmptyOrDefault(h.val(),f.data("placeholder")||"")||u.attr("href",n.setQueryStringParameter("mapto",h.val(),u.attr("href"))),typeof i.originalEvent=="undefined"&&(t.location=u.attr("href")))}).on("click.uic-maps","[data-uic-map]",function(t){var i=n(t.target),u=n(this);r.OrderInfoWindows(i,u)});f=!0}},r.InitBuilder=function(n){r.InitMapsServices(function(){r.InitMapsHandlers();n()})},r.InitMaps=function(t,i,u,f){t.each(function(){var e=n(this),t=e.data("uicMapData");n.isEmpty(t)?h(e,i,u,function(n){n.map=new google.maps.Map(n.mapDom,n.options.map);r.InitFormItems(n);r.FitMapInCurrentBounds(n);r.InitMarkers(n,function(){r.InitMapRoute(n,!0,function(){if(n.directions.rendererService.getMap()==null){var t=n.config.infoWindows;t.openedByDefault&&t.openedByDefaultMinCount>=n.markers.length?r.OpenInfoWindows(n,function(){r.InitMapFocus(n)}):r.InitMapFocus(n)}});typeof f=="function"&&f(n)})}):n.isEmpty(t.map)||r.ResetMap(t)})},r.ResetMap=function(n){n.map.setOptions(n.options.map);r.ClearMapRoute(n);r.FitMapInCurrentBounds(n)},r.FitMapInCurrentBounds=function(t){var i=new google.maps.LatLngBounds,r=t.directions.rendererService,u;n.isEmpty(r.getMap())==!1&&n.isEmpty(r.getDirections())==!1?n.each(r.getDirections().routes,function(){i.extend(this.bounds.getNorthEast());i.extend(this.bounds.getSouthWest())}):(n.isEmpty(t.markers)==!1&&n.each(t.markers,function(){i.extend(this.getPosition())}),n.isEmpty(t.options.map.center)==!1&&i.extend(t.options.map.center));t.map.getBounds()?t.map.fitBounds(i):(t.map.setCenter(i.getCenter()),u=google.maps.event.addListenerOnce(t.map,"bounds_changed",function(){google.maps.event.removeListener(u);i.union(t.map.getBounds());t.map.fitBounds(i)}))},r.InitMarkers=function(t,i){if(n.isEmpty(t.markers)){typeof i=="function"&&i();return}var u=google.maps.event.addListenerOnce(t.map,"tilesloaded",function(){google.maps.event.removeListener(u);var n=0,f=setInterval(function(){var e=t.markers[n],u;e.setMap(t.map);++n==t.markers.length&&(clearInterval(f),r.InitInfoWindows(t),typeof i=="function"&&(u=setTimeout(function(){clearTimeout(u);i()},1e3)))},t.config.markers.initializationTime/t.markers.length)})},r.FocusOnMarker=function(t,i,r){t&&i&&i.getMap()==t.map&&(r=n.extend(!0,{mapPosition:i.getPosition(),mapZoom:t.map.getZoom()+2},r),t.map.setCenter(r.mapPosition),t.map.setZoom(r.mapZoom))},r.InitInfoWindows=function(t){var u=n.grep(t.markers,function(t){return!n.isEmpty(t.infoWindow)}),i;if(u.length)for(i=0;i<u.length;i++)google.maps.event.addListener(u[i],"click",function(){var n=this;n.infoWindow.getMap()?n.infoWindow.close():(n.infoWindow.setZIndex(r.GetInforWindowMaxZIndex(t.markers)+1),n.infoWindow.open(n.map,n))})},r.OpenInfoWindows=function(t,i){var u,r,f;if(!t.markers.length){typeof i=="function"&&i();return}for(t.markers.sort(function(n,t){return t.getPosition().lat()-n.getPosition().lat()}),u=0;u<t.markers.length;u++)r=t.markers[u],n.isEmpty(r.infoWindow)||r.infoWindow.open(r.map,r);t.map.setZoom(t.map.getZoom()-1);typeof i=="function"&&(f=setTimeout(function(){clearTimeout(f);i()},1e3))},r.CloseInfoWindows=function(t){var i,r;if(t.markers.length)for(i=0;i<t.markers.length;i++)r=t.markers[i],n.isEmpty(r.infoWindow)||r.infoWindow.close()},r.OrderInfoWindows=function(t,i){var o=i.data("uicMapData"),s=!1,f=t.closest("[data-uic-map-infowindow]",i),e,h,l,u,c;if(f.length)s=!0;else for(u=1;u<=3;u++){for(e=t,h=u;h>0;h--)e=e.parent();if(f=e.find("[data-uic-map-infowindow]"),f.length&&f.parentsUntil(e).length<=3){s=!0;break}}if(s)for(l=f.data("uic-map-infowindow"),u=0;u<o.markers.length;u++)c=o.markers[u],n(c.infoWindow.content).data("uic-map-infowindow")==l&&c.infoWindow.setZIndex(r.GetInforWindowMaxZIndex(o.markers)+1)},r.GetInforWindowMaxZIndex=function(n){for(var t,u,i=0,r=0;r<n.length;r++)t=n[r].infoWindow,t&&t.getMap()&&(u=t.getZIndex(),u>=i&&(i=u));return i},r.GeocodeAddress=function(n,t){r.MapsGeocoderService.geocode({address:n},function(n,i){i==google.maps.GeocoderStatus.OK?t(n[0].geometry.location):t(null)})},r.GetBoundsCenter=function(t){var i;if(n.isEmpty(t)||!n.isArray(t))return null;var u=0,f=0,r=0;for(i=0;i<t.length;i++)u+=t[i].lat(),f+=t[i].lng(),r++;return new google.maps.LatLng(u/r,f/r)},r.FitInMap=function(t,i){var r=t.getBounds(),f,u;if(!n.isEmpty(i)){for(r=r||new google.maps.LatLngBounds,f=0,u=0;u<i.length;u++)r.contains(i[u])||(r.extend(i[u]),f++);f&&t.fitBounds(r)}return r},r.ShowResponse=function(t,i){!n.isEmpty(i)&&n.isValueType(i)&&(n.isEmpty(t)?alert(n.isArray(i)?i.join("\n"):i):(Sys.Cms.Vld.DisplayValidationMessage(t.get(0),"<ul><li>"+(n.isArray(i)?i.join("<\/li><li>"):i)+"<\/li><\/ul>"),t.show()))},r.HideResponse=function(t){n.isJQuery(t)&&Sys.Cms.Vld.DisplayValidationMessage(t.get(0),null)},r.InitMapRoute=function(t,i,u){var h=n(t.mapDom),f=n('[data-uic-map-directionfrom="'+t.id+'"]'),e=n('[data-uic-map-directionto="'+t.id+'"]'),o=n('[data-uic-map-validationsummary="'+t.id+'"]'),s=n('[data-uic-map-directionroutes="'+t.id+'"]');if(n.isEmpty(f)||n.isEmpty(e)){typeof u=="function"&&u();return}if(f.removeClass("error"),e.removeClass("error"),n.isEmptyOrDefault(f.val(),f.attr("placeholder")||"")){i!==!0&&(f.addClass("error"),r.ShowResponse(o,"Please enter a start address."));typeof u=="function"&&u();return}if(n.isEmptyOrDefault(e.val(),f.attr("placeholder")||"")){i!==!0&&(e.addClass("error"),r.ShowResponse(o,"Please enter a destination."));typeof u=="function"&&u();return}if(n.isEqual(t.directions.from,f.val())&&n.isEqual(t.directions.to,e.val())){typeof u=="function"&&u();return}r.GeocodeAddress(f.val(),function(c){if(c==null){i!==!0&&(f.addClass("error"),r.ShowResponse(o,"The starting address is incorrect or can't be found."));typeof u=="function"&&u();return}t.directions.from=f.val();t.directions.to=e.val();var l=n.grep(t.markers,function(n){return n.dataSource.id==e.val()})[0].getPosition(),a={origin:c,destination:l,travelMode:google.maps.DirectionsTravelMode.DRIVING};r.MapsDirectionsService.route(a,function(n,f){f==google.maps.DirectionsStatus.OK?(r.CloseInfoWindows(t),r.HideResponse(o),t.directions.rendererService.setMap(t.map),t.directions.rendererService.setDirections(n),s.length&&(h.addClass("has-directions"),s.addClass("has-directions"),t.directions.rendererService.setPanel(s.get(0)),google.maps.event.trigger(t.map,"resize"))):(i!==!0&&r.ShowResponse(o,"The provided route can't be initialized. Please change the starting address."),t.directions.rendererService.getMap()!=null&&(t.directions.rendererService.setMap(null),t.directions.rendererService.setPanel(null),h.removeClass("has-directions"),s.removeClass("has-directions"),r.FitMapInCurrentBounds(t),google.maps.event.trigger(t.map,"resize")));typeof u=="function"&&u()})})},r.ClearMapRoute=function(t){var e,f,i,u,o;t.directions.rendererService.getMap()!=null&&(t.directions.from="",t.directions.to="",t.directions.rendererService.setMap(null),t.directions.rendererService.setPanel(null),r.FitMapInCurrentBounds(t));e=n(t.mapDom);f=n('[data-uic-map-directionroutes="'+t.id+'"]');f.length&&(e.removeClass("has-directions"),f.removeClass("has-directions"),google.maps.event.trigger(t.map,"resize"));i=n('[data-uic-map-directionfrom="'+t.id+'"]');i.length&&(i.not("select")?i.val(i.data("placeholder")||""):i.find("option:first").prop("selected",!0));u=n('[data-uic-map-directionto="'+t.id+'"]');u.length&&(u.not("select")?u.val(u.data("placeholder")||""):u.find("option:first").prop("selected",!0));o=n('[data-uic-map-validationsummary="'+t.id+'"]');r.HideResponse(o)},r.InitMapFocus=function(t){var i,u;t&&t.markers&&t.directions.rendererService.getMap()==null&&(i=n.getQueryStringParameter("mapfocus"),i)&&(u=t.markers.firstOrDefault(function(n){return n.dataSource.id==i}),r.FocusOnMarker(t,u))},r.InitFormItems=function(t){var u=t.id,r,i,f;n.isEmpty(u)||(r=t.config.markers.dataSource,n.isEmpty(r))||(i=null,(i=n('[data-uic-map-directionfrom="'+u+'"]')).length&&(i.is(":input")?i.val()||i.val(n.getQueryStringParameter("mapfrom")):i.append('<input type="text" data-uic-map-directionfrom="'+u+'" placeholder="Enter your starting address" value="'+(n.getQueryStringParameter("mapfrom")||"")+'" />').removeAttr("data-uic-map-directionfrom").removeData("uic-map-directionfrom",null)),(i=n('[data-uic-map-directionto="'+u+'"]')).length&&(i.is(":input")?i.is("input")&&!i.val()?i.val(r[0].id):i.is("select")&&!i.is(":has(option)")&&i.append('<option value=""'+(n.isEmpty(n.getQueryStringParameter("mapto"))?' selected="selected"':"")+">Please select a location<\/option>"+n.map(r,function(t){return'<option value="'+t.id+'" '+(n.isEqual(n.getQueryStringParameter("mapto"),t.id)?' selected="selected"':"")+">"+t.name+"<\/option>"}).join("")):(f=r.length>1?n('<select data-uic-map-directionto="'+u+'"><option value=""'+(n.isEmpty(n.getQueryStringParameter("mapto"))?' selected="selected"':"")+">Please select a location<\/option>"+n.map(r,function(t){return'<option value="'+t.id+'" '+(n.isEqual(n.getQueryStringParameter("mapto"),t.id)?' selected="selected"':"")+">"+t.name+"<\/option>"}).join("")+"<\/select>"):n('<input type="hidden" value="'+r[0].id+'" data-uic-map-directionto="'+u+'" />'),i.append(f).removeAttr("data-uic-map-directionto").removeData("uic-map-directionto",null))))},r.SetFormItems=function(n,t){r.InitFormItems({id:n,config:{markers:{dataSource:t||Sys.Cms.DS.locations}}})},r}}($,window,document);
/*!
 * UIC DateTime plugin.
 * By: Kukui Corporation
 * Version: 1.0.0
 * Updated: September 9th, 2016
 *
 * Copyright Â© 2016 Kukui Corporation. All rights reserved.
 */
$.uicDateTime=function(n,t,i){if(n.cms_utilities_version==="1.0.0"&&n.cms_component_version==="1.0.0"){n.uic_datetime_plugin_version="1.0.0";var f=n(t),u=n(i),r={};return r.InitDateTimeServices=function(t,r){if(t.type=="jqueryui"){var u=i.location.protocol+"//ajax.googleapis.com/ajax/libs/jqueryui/"+t.jqueryuiversion,f="jquery-ui"+(t.indebug?"":".min"),e="/SCL/REPO",o="jquery-ui-"+t.jqueryuiversion+(t.indebug?"":".min");typeof n.ui!="object"||typeof n.datepicker!="object"?n.loadScriptLibrary(u+"/"+f+".js",e+"/js/jquery"+o+".js",function(){i.verifyCssSelector(".ui-datepicker")||n.loadStyleLibrary(u+"/themes/"+t.jqueryuitheme+"/"+f+".css",e+"/css/jquery/"+o+".css");r()}):i.verifyCssSelector(".ui-datepicker")?r():(n.loadStyleLibrary(u+"/themes/"+t.jqueryuitheme+"/"+f+".css",e+"/css/jquery/"+o+".css",r,r),r())}else r()},r.InitDateTimeHandlers=function(i){function r(){var i=n("#ui-datepicker-div:visible"),t;i.length&&(t=n("[data-uic-datepicker]:focus"),t.length&&(t.datepicker("hide").blur(),i.hide()))}i.type=="jqueryui"&&(t.eventObserver.detach(r),t.eventObserver.attach(r,{W:1,H:1}));u.off(".uic-datetime").on("focus.uic-datetime","[data-uic-datepicker]",function(){var t=n(this),i;t.prop("readonly",!0);t.is(".hasDatepicker")||(i=(t.data("uicDateTimeData")||{}).options||t.data("uicDatepickerOptions"),t.datepicker(i))}).on("keydown.uic-datetime","[data-uic-datepicker]",function(t){(t.which==8||t.which==46)&&n(this).val("")}).on("change.uic-datetime","[data-uic-datepicker]",function(){var t=n(this);n('[data-uic-timepicker="'+t.data("uic-datepicker")+'"]').each(function(){var t=n(this);t.val("");t.trigger("change")});n('[data-uic-timelistpicker="'+t.data("uic-datepicker")+'"]').each(function(){var i=n(this),u=new Date(t.val()),r;isNaN(u.getTime())?(i.find("option").each(function(){n(this).removeAttr("disabled")}),i.val(""),i.trigger("change")):(r=n.uicDateTime.GetWorktime(t),i.find("option").each(function(){var t=n(this),f;t.val()!=""&&r?(f=new Date(u.toDateString()+" "+t.val()),n.uicDateTime.ValidateLocationDateTime(f,r)?t.removeAttr("disabled"):(t.attr("disabled","disabled"),t.is(":selected")&&(i.val(""),i.trigger("change")))):t.removeAttr("disabled")}))})}).on("click.uic-datetime","[data-uic-datepickertrigger]",function(t){var i=n(':input[data-uic-datepicker="'+n(this).data("uic-datepickertrigger")+'"]',t.delegateTarget);(!i.is(".hasDatepicker")||i.datepicker("widget").is(":hidden"))&&i.focus()}).on("keyup.uic-datetime blur.uic-datetime","[data-uic-timepicker]",function(t){var r=this,s=t,i=r.value.replace(/[^\d]/g,""),u,e,o,f;s.which==8?i=i.substring(0,i.length-1):i.length>5&&(i=i.substring(0,4));switch(i.length){case 1:u=":00";break;case 2:i<=12?u=":00":i.substring(1,2)<=5?(i=i.substring(0,1)+":"+i.substring(1),u="0"):(i=i.substring(0,1)+":0"+i.substring(1),u="");break;case 3:i.substring(2,3)<=5||i.substring(0,2)>12?(i=i.substring(0,1)+":"+i.substring(1),u=""):(i=i.substring(0,2)+":0"+i.substring(2),u="");break;case 4:if(i.substring(0,2)<=12&&i.substring(2)<=59)i=i.substring(0,2)+":"+i.substring(2),u="";else{r.value=r.value.substring(0,r.value.length-1);u="";return}break;case 5:if(i.indexOf(":")===-1){r.value=i.substring(0,2)+":"+i.substring(3,5);return}default:u=""}r.value=i+u;e=i.length;o=r.value.length;r.createTextRange?(f=r.createTextRange(),f.collapse(!0),f.moveStart("character",e),f.moveEnd("character",o),f.select()):r.setSelectionRange?r.setSelectionRange(e,o):r.selectionStart&&(r.selectionStart=e,r.selectionEnd=o);n(r).trigger("change")}).on("change.uic-datetime","[data-uic-ampmpicker]",function(){n('[data-uic-timepicker="'+n(this).data("uic-ampmpicker")+'"]').trigger("change")}).on("change.uic-datetime","[data-uic-datetimereset]",function(){var t=n(this).data("uic-datetimereset");n.each(n.isArray(t)?t:[t],function(t,i){n('[data-uic-datepicker="'+i+'"]').each(function(){var t=n(this);n.uicDateTime.ValidateLoactionDate(new Date(t.val()),n.uicDateTime.GetWorktime(t))||t.val("");t.trigger("change")})})})},r.InitBuilder=function(t,i){t=n.extend(!0,{type:"jqueryui",jqueryuiversion:"1.11.4",jqueryuitheme:"smoothness",indebug:(Sys.Cms||{}).DS.inDebugMode||!1},t||{});r.InitDateTimeServices(t,function(){r.InitDateTimeHandlers(t);i()})},r.ValidateLoactionDate=function(t,i){if(!t||!t.getTime())return!1;if(!i)return!0;if(t=new Date(t.toDateString()),t>=i.minDate){var r=!!n.grep(i.workingDays,function(n){return t.getDay()==n.code}).length;return r?!n.grep(i.disabledDays,function(n){return!(t-n.date)&&!n.intervals.length}).length:!!n.grep(i.enabledDays,function(n){return!(t-n.date)}).length}return!1},r.ValidateLocationDateTime=function(t,i){var e;if(!t||!t.getTime())return!1;if(!i)return!0;if(r.ValidateLoactionDate(t,i)&&t>=i.minDateTime){var u=t.toDateString(),f=new Date(u),o=(i.disabledDays.firstOrDefault(function(n){return!(f-n.date)})||{}).intervals;if(o&&o.firstOrDefault(function(n){return t>=n.open&&t<=n.close}))return!1;if(e=(i.enabledDays.firstOrDefault(function(n){return!(f-n.date)})||{}).intervals||n.map((i.workingDays.firstOrDefault(function(n){return f.getDay()==n.code})||{}).intervals,function(n){return{open:new Date(u+" "+n.open),close:new Date(u+" "+n.close)}}),e)return!!e.firstOrDefault(function(n){return t>=n.open&&t<=n.close})}return!1},r.FormatWorktime=function(t){var r=new Date,i;return r.setHours(Math.max(t.daysOffset,Math.floor(t.hoursOffset/24))*24,0,0,0),i=new Date,i.setDate(r.getDate()),t.hoursOffset>0&&(t.daysOffset==0?i.setHours(i.getHours()+t.hoursOffset):i.setHours(t.hoursOffset)),{locationID:t.locationID,daysOffset:t.daysOffset,hoursOffset:t.hoursOffset,minDate:r,minDateTime:i,workingDays:t.workingDays,enabledDays:n.map(t.enabledDays,function(t){return{date:new Date(t.date),intervals:n.map(t.intervals,function(n){return{open:new Date(t.date+" "+n.open),close:new Date(t.date+" "+n.close)}})}}),disabledDays:n.map(t.disabledDays,function(t){return{date:new Date(t.date),intervals:n.map(t.intervals,function(n){return{open:new Date(t.date+" "+n.open),close:new Date(t.date+" "+n.close)}})}})}},r.GetWorktime=function(t){var i=null,r=(t.data("uicDateTimeData")||{}).config,u;return r&&!n.isEmpty(r.worktime)&&(u=t&&t.length?n(t.data("uic-locationprovider")||null).val():null,u&&(i=r.worktime.firstOrDefault(function(n){return n.locationID==u})),i==null&&(i=r.worktime[0])),i},r.InitDatePickers=function(t,i,r){var u=n.map(Sys.Cms.DS.appointments.worktime,function(t){return n.uicDateTime.FormatWorktime(t)});t.each(function(){n(this).data("uicDateTimeData",{options:n.extend(!0,{beforeShow:function(){var t=n(this);n.browser.mobile&&n.browser.support.touch&&t.blur();t.data("datepickerWorktimeBuffer",n.uicDateTime.GetWorktime(t))},beforeShowDay:function(t){var i=n(this).data("datepickerWorktimeBuffer");return[n.uicDateTime.ValidateLoactionDate(t,i),""]}},i||{}),config:n.extend(!0,{worktime:u},r||{})})})},r.InitTimePickers=function(){},r.InitAmPmPickers=function(){},r.InitTimelistPickers=function(){},r.CFVWorktime=function(t,i){function u(n){if(!n.length)return!0;var t=n.val(),i=n.prop("placeholder");return t==""||typeof i!="undefined"&&String.areAlmostEqual(i,t)||n.is("select")&&n.is(':not(:has(option[value=""]))')}var f=n("#"+t.controltovalidate),r=f.data("uic-datepicker")||f.data("uic-timepicker")||f.data("uic-ampmpicker")||f.data("uic-timelistpicker"),c,l;if(r){var e=n('[data-uic-datepicker="'+r+'"]'),o=n('[data-uic-timepicker="'+r+'"]'),s=n('[data-uic-ampmpicker="'+r+'"]'),h=n('[data-uic-timelistpicker="'+r+'"]');u(e)&&u(o)&&u(s)&&u(h)?i.IsValid=!0:[].concat(e.prop("Validators")||[],o.prop("Validators")||[],s.prop("Validators")||[],h.prop("Validators")||[]).firstOrDefault(function(n){return!n.isvalid})?i.IsValid=!0:(c=new Date((e.val()||"")+" "+(o.val()||"")+" "+(s.val()||"")+" "+(h.val()||"")),l=n.uicDateTime.GetWorktime(e),i.IsValid=c&&l&&n.uicDateTime.ValidateLocationDateTime(c,l));return}i.IsValid=!1;return},r}}($,window,document),function(n,t,i){function s(n){if(n.is(":visible")&&n.hide(),n.is("[data-lightbox-template]")){switch(n.data("lightbox-template")){default:n.addClass("mod-lightbox").wrapInner('<div class="mod-lightbox-content"><\/div>').prepend('<a class="mod-lightbox-btn-close" data-lightbox-close="'+n.data("lightbox-window")+'" href="javascript:void(0);" title="Close popup.">X<\/a>').wrapInner('<div class="mod-lightbox-shell"><\/div>').prepend('<div class="mod-lightbox-background" data-lightbox-close="'+n.data("lightbox-window")+'"><\/div>')}n.removeAttr("data-lightbox-template")}}function h(n,t,i){var u=n.width(),e=n.height(),h=t.outerWidth(!0)-t.width(),l=t.outerHeight(!0)-t.height(),r=i.prop("scrollWidth"),c=i.outerWidth(!0)-i.width(),f=i.prop("scrollHeight"),a=i.outerHeight(!0)-i.height(),o=u-(h+c),s=e-(l+a),v=Math.ceil(Math.sqrt(u/e*r*f));(r<v||u<h+c+r)&&(r=v);r<o?(t.css("max-width",r+c+"px"),i.css("max-width",r+"px")):(r==o||o>=50)&&(t.css("max-width",u-h+"px"),i.css("max-width",o+"px"));f<s?(t.css("max-height",f+a+"px"),i.css("max-height",f+"px")):(f==s||s>=50)&&(t.css("max-height",e-l+"px"),i.css("max-height",s+"px"));t.css({position:"fixed",top:(e-t.outerHeight(!0))/2+"px",left:(u-t.outerWidth(!0))/2+"px"})}function f(t){return/^$|\s+/.test(t)?null:/^(\s*[A-Za-z0-9-_\$]+\s*)$/.test(t)?n('[data-lightbox-window="'+t+'"]'):n(t)}function e(t){var f=n(i.body);if(t&&t.length)if(t.is(":visible"))t.fadeOut(function(){t.removeClass("mod-lightbox-on");f.removeClass("mod-lightbox-on");u.find("[data-lightbox-window]:visible").length||r.off("resize.mod-lightbox")}),t.find("video,audio").each(function(){typeof this.paused=="undefined"||this.paused||this.pause()}),t.find('iframe[src*="youtube.com"]').each(function(){typeof this.contentWindow!="undefined"&&this.contentWindow.postMessage('{"event":"command", "func":"stopVideo", "args":""}',"*")});else{t.fadeIn(function(){t.addClass("mod-lightbox-on");f.addClass("mod-lightbox-on")});r.on("resize.mod-lightbox",function(){u.find("[data-lightbox-window]:visible").each(function(){var t=n(this),i=t.find(".mod-lightbox-shell"),u=t.find(".mod-lightbox-shell .mod-lightbox-content");i.length&&u.length&&h(r,i,u)})});r.trigger("resize.mod-lightbox")}else f.removeClass("mod-lightbox-on")}function o(n){if(n&&n.length&&n.is("[data-lightbox-template]")){switch(n.data("lightbox-template")){default:n.addClass("mod-lightbox").wrapInner('<div class="mod-lightbox-content"><\/div>').prepend('<a class="mod-lightbox-btn-close" data-lightbox-close="'+n.data("lightbox-window")+'" href="javascript:void(0);" title="Close popup.">X<\/a>').wrapInner('<div class="mod-lightbox-shell"><\/div>').prepend('<div class="mod-lightbox-background" data-lightbox-close="'+n.data("lightbox-window")+'"><\/div>')}n.removeAttr("data-lightbox-template")}}var r=n(t),u=n(i);n(function(){u.on("lightbox:init",function(t,i){var r=f(i||"[data-lightbox-window]");r&&r.length&&r.each(function(){s(n(this))})}).on("lightbox:open lightbox:close",function(n,t){var i=f(t);o(i);e(i)}).on("click change","[data-lightbox-open]",function(){var t=n(this),i=f(t.data("lightbox-open"))||t.find("[data-lightbox-window]");o(i);e(i)}).on("click change","[data-lightbox-close]",function(t){var i=n(this),r=f(i.data("lightbox-close"))||n(t.delegateTarget);e(r)}).on("keydown",function(t){if(t.which==27&&n(i.body).hasClass("mod-lightbox-on")){var r=n("[data-lightbox-window]:visible:first");r.length&&!r.find(":focus").length&&e(n("[data-lightbox-window]:visible:first"))}});u.trigger("lightbox:init")})}(jQuery,window,document);
/*!
 * LazyLoad Module.
 * By: Kukui Corporation
 * Version: 1.0.0
 * Updated: July 30th, 2014
 *
 * Copyright Â© 2016 Kukui Corporation. All rights reserved.
 */
(function(n,t,i){function f(t,i){n.each(n.map(t.data(),function(n,t){return t}),function(n,i){/^lazyload(.*?)/i.test(i)&&t.removeData(i).removeAttr("data-lazyload-"+i.replace(/lazyload/g,""))});i&&t.addClass(i)}function u(t){function i(n,t){if(/^\S+\.(gif|jpg|jpeg|png|svg)$/i.test(t))n.append('<img src="'+t+'" alt="" />');else if(/^\S+\.(js)$/i.test(t))n.append('<script type="text/javascript" src="'+t+'"><\/script>');else if(/^\S+\.(mp4|m4v|mov|ogv|flv|webm|asf|avi)$/i.test(t))n.append('<video src="'+t+'" controls="controls" />');else if(/^\S+\.(mp3|m4a|ogg|oga|webma|wav)$/i.test(t))n.append('<audio src="'+t+'" controls="controls" />');else if(/^\S+\.(swf|pdf)$/i.test(t))n.append('<object><embed src="'+t+'" /><\/object>');else if(/^\S+\.(x?html?|aspx?|php)($|\?.*?)/i.test(t))n.append('<iframe src="'+t+'"><\/iframe>');else return!1;return!0}function r(n,t){return/^\S+\.(png|jpe?g|gif|svg)$/i.test(t)?(n.css("background-image","url("+t+")"),!0):!1}function u(n,t){if(n.is('img,iframe,script,embed,input[type="image"],video,audio,source,track')){var i=n.attr("src");if(typeof i=="undefined"||/^(\s*||\s*about\s*:\s*blank\s*|[^\S]*#?\/?\\?[^\S]*)$/i.test(i))return n.attr("src",t),!0}return!1}t==null&&(t=n("[data-lazyload-src]").filter(function(){var t=n(this);return t.is("[data-lazyload-domtrigger]")?!1:t.is("[data-lazyload-group]")?t.is('[data-lazyload-group=""]'):!0}));t.each(function(){var t=n(this),e=t.data("lazyload-src"),o=(o=t.data("lazyload-type"))?o:"auto";switch(t.data("lazyload-type")){case"source":case"src":u(t,e);break;case"html":case"tag":i(t,e);break;case"background":case"bgimg":case"bg":r(t,e);break;case"auto":default:u(t,e)||!t.is(":empty")&&t.html().trim()&&r(t,e)||i(t,e)}f(t,"mod-lazyload-loaded")})}if(n){var r=n(t),e=n(i);n(function(){var i=!1,t;r.on("load",function(){i||(i=!0,u(null))});setTimeout(function(){i||(i=!0,u(null))},5e3);e.on("click","[data-lazyload-itemtrigger]",function(t){var i=n(this),o=n(t.delegateTarget),r=o.find('[data-lazyload-group="'+i.data("lazyload-itemtrigger")+'"]'),e;typeof i.data("lazyload-portion")=="undefined"?f(i):(e=/^([1-9]+[0-9]*)$/.test(i.data("lazyload-portion"))?parseInt(i.data("lazyload-portion")):0,e>0&&e<=r.length?r=r.slice(0,e):f(i));u(r)});if(t=n("[data-lazyload-domtrigger]"),t.length){r.on("resize.lazyload scroll.lazyload",function(i){var h=50,l=400,o=r.data("tempLazyloadSettings"),e={x:r.scrollLeft(),y:r.scrollTop(),width:r.width(),height:r.height()},s=!1,c;o?(i.type=="scroll"?((e.y-h>=o.y||e.y+h<=o.y)&&(o.y=e.y,s=!0),(e.x-h>=o.x||e.x+h<=o.x)&&(o.x=e.x,s=!0)):i.type=="resize"&&(e.width-h>=o.width?(o.width=e.width,s=!0):e.width<o.width&&(o.width=e.width),e.height>=o.height+h?(o.height=e.height,s=!0):e.height<o.height&&(o.height=e.height,s=!0)),r.data("tempLazyloadSettings",o)):(r.data("tempLazyloadSettings",e),s=!0);s&&(c=t.filter(function(){var i=n(this),t={x:i.offset().left-l,y:i.offset().top-l,width:i.outerWidth(!0)+2*l,height:i.outerHeight(!0)+2*l};return t.y>e.y+e.height?!1:t.y+t.height<e.y||t.x>e.x+e.width||t.x+t.width<e.x?!1:!0}),c.length>0&&(u(c.filter(function(){var t=n(this);return/^$|\s+/.test(t.data("lazyload-domtrigger"))?!0:(u(n('[data-lazyload-group="'+t.data("lazyload-domtrigger")+'"]')),f(t),!1)})),c.length==t.length?(t=undefined,r.off("resize.lazyload").off("scroll.lazyload")):t=t.not(c)))});r.trigger("resize.lazyload")}})}})(window.jQuery,window,document),function(n){n.fn.fitVids=function(t){var i={customSelector:null,ignore:null},u,r;return document.getElementById("fit-vids-style")||(u=document.head||document.getElementsByTagName("head")[0],r=document.createElement("div"),r.innerHTML='<p>x<\/p><style id="fit-vids-style">.fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}<\/style>',u.appendChild(r.childNodes[1])),t&&n.extend(i,t),this.each(function(){var t='iframe[src*="player.vimeo.com"] iframe[src*="youtube.com"] iframe[src*="youtube-nocookie.com"] iframe[src*="kickstarter.com"][src*="video.html"] object embed'.split(" "),r;i.customSelector&&t.push(i.customSelector);r=".fitvidsignore";i.ignore&&(r=r+", "+i.ignore);t=n(this).find(t.join(","));t=t.not("object object");t=t.not(r);t.each(function(){var t=n(this);if(!(0<t.parents(r).length||"embed"===this.tagName.toLowerCase()&&t.parent("object").length||t.parent(".fluid-width-video-wrapper").length)){t.css("height")||t.css("width")||!isNaN(t.attr("height"))&&!isNaN(t.attr("width"))||(t.attr("height",9),t.attr("width",16));var i="object"===this.tagName.toLowerCase()||t.attr("height")&&!isNaN(parseInt(t.attr("height"),10))?parseInt(t.attr("height"),10):t.height(),u=isNaN(parseInt(t.attr("width"),10))?t.width():parseInt(t.attr("width"),10),i=i/u;t.attr("name")||(t.attr("name","fitvid"+n.fn.fitVids._count),n.fn.fitVids._count++);t.wrap('<div class="fluid-width-video-wrapper"><\/div>').parent(".fluid-width-video-wrapper").css("padding-top",100*i+"%");t.removeAttr("height").removeAttr("width")}})})};n.fn.fitVids._count=0}(window.jQuery||window.Zepto);
/*!
 * Lightbox v2.9.0
 * by Lokesh Dhakar
 *
 * More info:
 * http://lokeshdhakar.com/projects/lightbox2/
 *
 * Copyright 2007, 2015 Lokesh Dhakar
 * Released under the MIT license
 * https://github.com/lokesh/lightbox2/blob/master/LICENSE
 */
(function(n,t){typeof define=="function"&&define.amd?define(["jquery"],t):typeof exports=="object"?module.exports=t(require("jquery")):n.lightbox=t(n.jQuery)})(this,function(n){function t(t){this.album=[];this.currentImageIndex=void 0;this.init();this.options=n.extend({},this.constructor.defaults);this.option(t)}return t.defaults={albumLabel:"Image %1 of %2",alwaysShowNavOnTouchDevices:!1,fadeDuration:600,fitImagesInViewport:!0,imageFadeDuration:600,positionFromTop:50,resizeDuration:700,showImageNumberLabel:!0,wrapAround:!1,disableScrolling:!1,sanitizeTitle:!1},t.prototype.option=function(t){n.extend(this.options,t)},t.prototype.imageCountLabel=function(n,t){return this.options.albumLabel.replace(/%1/g,n).replace(/%2/g,t)},t.prototype.init=function(){var t=this;n(document).ready(function(){t.enable();t.build()})},t.prototype.enable=function(){var t=this;n("body").on("click","a[rel^=lightbox], area[rel^=lightbox], a[data-lightbox], area[data-lightbox]",function(i){return t.start(n(i.currentTarget)),!1})},t.prototype.build=function(){var t=this;n('<div id="lightboxOverlay" class="lightboxOverlay"><\/div><div id="lightbox" class="lightbox"><div class="lb-outerContainer"><div class="lb-container"><img class="lb-image" src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" /><div class="lb-nav"><a class="lb-prev" href="" ><\/a><a class="lb-next" href="" ><\/a><\/div><div class="lb-loader"><a class="lb-cancel"><\/a><\/div><\/div><\/div><div class="lb-dataContainer"><div class="lb-data"><div class="lb-details"><span class="lb-caption"><\/span><span class="lb-number"><\/span><\/div><div class="lb-closeContainer"><a class="lb-close"><\/a><\/div><\/div><\/div><\/div>').appendTo(n("body"));this.$lightbox=n("#lightbox");this.$overlay=n("#lightboxOverlay");this.$outerContainer=this.$lightbox.find(".lb-outerContainer");this.$container=this.$lightbox.find(".lb-container");this.$image=this.$lightbox.find(".lb-image");this.$nav=this.$lightbox.find(".lb-nav");this.containerPadding={top:parseInt(this.$container.css("padding-top"),10),right:parseInt(this.$container.css("padding-right"),10),bottom:parseInt(this.$container.css("padding-bottom"),10),left:parseInt(this.$container.css("padding-left"),10)};this.imageBorderWidth={top:parseInt(this.$image.css("border-top-width"),10),right:parseInt(this.$image.css("border-right-width"),10),bottom:parseInt(this.$image.css("border-bottom-width"),10),left:parseInt(this.$image.css("border-left-width"),10)};this.$overlay.hide().on("click",function(){return t.end(),!1});this.$lightbox.hide().on("click",function(i){return n(i.target).attr("id")==="lightbox"&&t.end(),!1});this.$outerContainer.on("click",function(i){return n(i.target).attr("id")==="lightbox"&&t.end(),!1});this.$lightbox.find(".lb-prev").on("click",function(){return t.currentImageIndex===0?t.changeImage(t.album.length-1):t.changeImage(t.currentImageIndex-1),!1});this.$lightbox.find(".lb-next").on("click",function(){return t.currentImageIndex===t.album.length-1?t.changeImage(0):t.changeImage(t.currentImageIndex+1),!1});this.$nav.on("mousedown",function(n){if(n.which===3){t.$nav.css("pointer-events","none");t.$lightbox.one("contextmenu",function(){setTimeout(function(){this.$nav.css("pointer-events","auto")}.bind(t),0)})}});this.$lightbox.find(".lb-loader, .lb-close").on("click",function(){return t.end(),!1})},t.prototype.start=function(t){function o(n){l.album.push({link:n.attr("href"),title:n.attr("data-title")||n.attr("title")})}var l=this,e=n(window),f,s,i,r,u,h,c;e.on("resize",n.proxy(this.sizeOverlay,this));if(n("select, object, embed").css({visibility:"hidden"}),this.sizeOverlay(),this.album=[],f=0,s=t.attr("data-lightbox"),s)for(i=n(t.prop("tagName")+'[data-lightbox="'+s+'"]'),r=0;r<i.length;r=++r)o(n(i[r])),i[r]===t[0]&&(f=r);else if(t.attr("rel")==="lightbox")o(t);else for(i=n(t.prop("tagName")+'[rel="'+t.attr("rel")+'"]'),u=0;u<i.length;u=++u)o(n(i[u])),i[u]===t[0]&&(f=u);h=e.scrollTop()+this.options.positionFromTop;c=e.scrollLeft();this.$lightbox.css({top:h+"px",left:c+"px"}).fadeIn(this.options.fadeDuration);this.options.disableScrolling&&n("body").addClass("lb-disable-scrolling");this.changeImage(f)},t.prototype.changeImage=function(t){var i=this,u,r;this.disableKeyboardNav();u=this.$lightbox.find(".lb-image");this.$overlay.fadeIn(this.options.fadeDuration);n(".lb-loader").fadeIn("slow");this.$lightbox.find(".lb-image, .lb-nav, .lb-prev, .lb-next, .lb-dataContainer, .lb-numbers, .lb-caption").hide();this.$outerContainer.addClass("animating");r=new Image;r.onload=function(){var l,e,o,s,f,h,c;u.attr("src",i.album[t].link);l=n(r);u.width(r.width);u.height(r.height);i.options.fitImagesInViewport&&(c=n(window).width(),h=n(window).height(),f=c-i.containerPadding.left-i.containerPadding.right-i.imageBorderWidth.left-i.imageBorderWidth.right-20,s=h-i.containerPadding.top-i.containerPadding.bottom-i.imageBorderWidth.top-i.imageBorderWidth.bottom-120,i.options.maxWidth&&i.options.maxWidth<f&&(f=i.options.maxWidth),i.options.maxHeight&&i.options.maxHeight<f&&(s=i.options.maxHeight),(r.width>f||r.height>s)&&(r.width/f>r.height/s?(o=f,e=parseInt(r.height/(r.width/o),10),u.width(o),u.height(e)):(e=s,o=parseInt(r.width/(r.height/e),10),u.width(o),u.height(e))));i.sizeContainer(u.width(),u.height())};r.src=this.album[t].link;this.currentImageIndex=t},t.prototype.sizeOverlay=function(){this.$overlay.width(n(document).width()).height(n(document).height())},t.prototype.sizeContainer=function(n,t){function f(){i.$lightbox.find(".lb-dataContainer").width(u);i.$lightbox.find(".lb-prevLink").height(r);i.$lightbox.find(".lb-nextLink").height(r);i.showImage()}var i=this,e=this.$outerContainer.outerWidth(),o=this.$outerContainer.outerHeight(),u=n+this.containerPadding.left+this.containerPadding.right+this.imageBorderWidth.left+this.imageBorderWidth.right,r=t+this.containerPadding.top+this.containerPadding.bottom+this.imageBorderWidth.top+this.imageBorderWidth.bottom;e!==u||o!==r?this.$outerContainer.animate({width:u,height:r},this.options.resizeDuration,"swing",function(){f()}):f()},t.prototype.showImage=function(){this.$lightbox.find(".lb-loader").stop(!0).hide();this.$lightbox.find(".lb-image").fadeIn(this.options.imageFadeDuration);this.updateNav();this.updateDetails();this.preloadNeighboringImages();this.enableKeyboardNav()},t.prototype.updateNav=function(){var n=!1;try{document.createEvent("TouchEvent");n=this.options.alwaysShowNavOnTouchDevices?!0:!1}catch(t){}this.$lightbox.find(".lb-nav").show();this.album.length>1&&(this.options.wrapAround?(n&&this.$lightbox.find(".lb-prev, .lb-next").css("opacity","1"),this.$lightbox.find(".lb-prev, .lb-next").show()):(this.currentImageIndex>0&&(this.$lightbox.find(".lb-prev").show(),n&&this.$lightbox.find(".lb-prev").css("opacity","1")),this.currentImageIndex<this.album.length-1&&(this.$lightbox.find(".lb-next").show(),n&&this.$lightbox.find(".lb-next").css("opacity","1"))))},t.prototype.updateDetails=function(){var r=this,t,i;if(typeof this.album[this.currentImageIndex].title!="undefined"&&this.album[this.currentImageIndex].title!==""){t=this.$lightbox.find(".lb-caption");this.options.sanitizeTitle?t.text(this.album[this.currentImageIndex].title):t.html(this.album[this.currentImageIndex].title);t.fadeIn("fast").find("a").on("click",function(){n(this).attr("target")!==undefined?window.open(n(this).attr("href"),n(this).attr("target")):location.href=n(this).attr("href")})}this.album.length>1&&this.options.showImageNumberLabel?(i=this.imageCountLabel(this.currentImageIndex+1,this.album.length),this.$lightbox.find(".lb-number").text(i).fadeIn("fast")):this.$lightbox.find(".lb-number").hide();this.$outerContainer.removeClass("animating");this.$lightbox.find(".lb-dataContainer").fadeIn(this.options.resizeDuration,function(){return r.sizeOverlay()})},t.prototype.preloadNeighboringImages=function(){var n,t;this.album.length>this.currentImageIndex+1&&(n=new Image,n.src=this.album[this.currentImageIndex+1].link);this.currentImageIndex>0&&(t=new Image,t.src=this.album[this.currentImageIndex-1].link)},t.prototype.enableKeyboardNav=function(){n(document).on("keyup.keyboard",n.proxy(this.keyboardAction,this))},t.prototype.disableKeyboardNav=function(){n(document).off(".keyboard")},t.prototype.keyboardAction=function(n){var t=n.keyCode,i=String.fromCharCode(t).toLowerCase();t===27||i.match(/x|o|c/)?this.end():i==="p"||t===37?this.currentImageIndex!==0?this.changeImage(this.currentImageIndex-1):this.options.wrapAround&&this.album.length>1&&this.changeImage(this.album.length-1):(i==="n"||t===39)&&(this.currentImageIndex!==this.album.length-1?this.changeImage(this.currentImageIndex+1):this.options.wrapAround&&this.album.length>1&&this.changeImage(0))},t.prototype.end=function(){this.disableKeyboardNav();n(window).off("resize",this.sizeOverlay);this.$lightbox.fadeOut(this.options.fadeDuration);this.$overlay.fadeOut(this.options.fadeDuration);n("select, object, embed").css({visibility:"visible"});this.options.disableScrolling&&n("body").removeClass("lb-disable-scrolling")},new t});
/**
 * Owl carousel
 * @version 2.0.0
 * @author Bartosz Wojciechowski
 * @license The MIT License (MIT)
 */
!function(n,t,i,r){function u(t,i){this.settings=null;this.options=n.extend({},u.Defaults,i);this.$element=n(t);this.drag=n.extend({},o);this.state=n.extend({},s);this.e=n.extend({},h);this._plugins={};this._supress={};this._current=null;this._speed=null;this._coordinates=[];this._breakpoint=null;this._width=null;this._items=[];this._clones=[];this._mergers=[];this._invalidated={};this._pipe=[];n.each(u.Plugins,n.proxy(function(n,t){this._plugins[n[0].toLowerCase()+n.slice(1)]=new t(this)},this));n.each(u.Pipe,n.proxy(function(t,i){this._pipe.push({filter:i.filter,run:n.proxy(i.run,this)})},this));this.setup();this.initialize()}function f(n){if(n.touches!==r)return{x:n.touches[0].pageX,y:n.touches[0].pageY};if(n.touches===r){if(n.pageX!==r)return{x:n.pageX,y:n.pageY};if(n.pageX===r)return{x:n.clientX,y:n.clientY}}}function e(n){var t,r,u=i.createElement("div"),f=n;for(t in f)if(r=f[t],"undefined"!=typeof u.style[r])return u=null,[r,t];return[!1]}function c(){return e(["transition","WebkitTransition","MozTransition","OTransition"])[1]}function l(){return e(["transform","WebkitTransform","MozTransform","OTransform","msTransform"])[0]}function a(){return e(["perspective","webkitPerspective","MozPerspective","OPerspective","MsPerspective"])[0]}function v(){return"ontouchstart"in t||!!navigator.msMaxTouchPoints}function y(){return t.navigator.msPointerEnabled}var o,s,h;o={start:0,startX:0,startY:0,current:0,currentX:0,currentY:0,offsetX:0,offsetY:0,distance:null,startTime:0,endTime:0,updatedX:0,targetEl:null};s={isTouch:!1,isScrolling:!1,isSwiping:!1,direction:!1,inMotion:!1};h={_onDragStart:null,_onDragMove:null,_onDragEnd:null,_transitionEnd:null,_resizer:null,_responsiveCall:null,_goToLoop:null,_checkVisibile:null};u.Defaults={items:3,loop:!1,center:!1,mouseDrag:!0,touchDrag:!0,pullDrag:!0,freeDrag:!1,margin:0,stagePadding:0,merge:!1,mergeFit:!0,autoWidth:!1,startPosition:0,rtl:!1,smartSpeed:250,fluidSpeed:!1,dragEndSpeed:!1,responsive:{},responsiveRefreshRate:200,responsiveBaseElement:t,responsiveClass:!1,fallbackEasing:"swing",info:!1,nestedItemSelector:!1,itemElement:"div",stageElement:"div",themeClass:"owl-theme",baseClass:"owl-carousel",itemClass:"owl-item",centerClass:"center",activeClass:"active"};u.Width={Default:"default",Inner:"inner",Outer:"outer"};u.Plugins={};u.Pipe=[{filter:["width","items","settings"],run:function(n){n.current=this._items&&this._items[this.relative(this._current)]}},{filter:["items","settings"],run:function(){var n=this._clones,t=this.$stage.children(".cloned");(t.length!==n.length||!this.settings.loop&&n.length>0)&&(this.$stage.children(".cloned").remove(),this._clones=[])}},{filter:["items","settings"],run:function(){for(var n=this._clones,t=this._items,u=this.settings.loop?n.length-Math.max(2*this.settings.items,4):0,i=0,r=Math.abs(u/2);r>i;i++)u>0?(this.$stage.children().eq(t.length+n.length-1).remove(),n.pop(),this.$stage.children().eq(0).remove(),n.pop()):(n.push(n.length/2),this.$stage.append(t[n[n.length-1]].clone().addClass("cloned")),n.push(t.length-1-(n.length-1)/2),this.$stage.prepend(t[n[n.length-1]].clone().addClass("cloned")))}},{filter:["width","items","settings"],run:function(){var n,t,i,u=this.settings.rtl?1:-1,f=(this.width()/this.settings.items).toFixed(3),r=0;for(this._coordinates=[],t=0,i=this._clones.length+this._items.length;i>t;t++)n=this._mergers[this.relative(t)],n=this.settings.mergeFit&&Math.min(n,this.settings.items)||n,r+=(this.settings.autoWidth?this._items[this.relative(t)].width()+this.settings.margin:f*n)*u,this._coordinates.push(r)}},{filter:["width","items","settings"],run:function(){var t,r,u=(this.width()/this.settings.items).toFixed(3),i={width:Math.abs(this._coordinates[this._coordinates.length-1])+2*this.settings.stagePadding,"padding-left":this.settings.stagePadding||"","padding-right":this.settings.stagePadding||""};if(this.$stage.css(i),i={width:this.settings.autoWidth?"auto":u-this.settings.margin},i[this.settings.rtl?"margin-left":"margin-right"]=this.settings.margin,!this.settings.autoWidth&&n.grep(this._mergers,function(n){return n>1}).length>0)for(t=0,r=this._coordinates.length;r>t;t++)i.width=Math.abs(this._coordinates[t])-Math.abs(this._coordinates[t-1]||0)-this.settings.margin,this.$stage.children().eq(t).css(i);else this.$stage.children().css(i)}},{filter:["width","items","settings"],run:function(n){n.current&&this.reset(this.$stage.children().index(n.current))}},{filter:["position"],run:function(){this.animate(this.coordinates(this._current))}},{filter:["width","position","items","settings"],run:function(){for(var t,i,f=this.settings.rtl?1:-1,e=2*this.settings.stagePadding,r=this.coordinates(this.current())+e,o=r+this.width()*f,s=[],n=0,u=this._coordinates.length;u>n;n++)t=this._coordinates[n-1]||0,i=Math.abs(this._coordinates[n])+e*f,(this.op(t,"<=",r)&&this.op(t,">",o)||this.op(i,"<",r)&&this.op(i,">",o))&&s.push(n);this.$stage.children("."+this.settings.activeClass).removeClass(this.settings.activeClass);this.$stage.children(":eq("+s.join("), :eq(")+")").addClass(this.settings.activeClass);this.settings.center&&(this.$stage.children("."+this.settings.centerClass).removeClass(this.settings.centerClass),this.$stage.children().eq(this.current()).addClass(this.settings.centerClass))}}];u.prototype.initialize=function(){if(this.trigger("initialize"),this.$element.addClass(this.settings.baseClass).addClass(this.settings.themeClass).toggleClass("owl-rtl",this.settings.rtl),this.browserSupport(),this.settings.autoWidth&&this.state.imagesLoaded!==!0){var t,i,u;if(t=this.$element.find("img"),i=this.settings.nestedItemSelector?"."+this.settings.nestedItemSelector:r,u=this.$element.children(i).width(),t.length&&0>=u)return this.preloadAutoWidthImages(t),!1}this.$element.addClass("owl-loading");this.$stage=n("<"+this.settings.stageElement+' class="owl-stage"/>').wrap('<div class="owl-stage-outer">');this.$element.append(this.$stage.parent());this.replace(this.$element.children().not(this.$stage.parent()));this._width=this.$element.width();this.refresh();this.$element.removeClass("owl-loading").addClass("owl-loaded");this.eventsCall();this.internalEvents();this.addTriggerableEvents();this.trigger("initialized")};u.prototype.setup=function(){var u=this.viewport(),r=this.options.responsive,t=-1,i=null;r?(n.each(r,function(n){u>=n&&n>t&&(t=Number(n))}),i=n.extend({},this.options,r[t]),delete i.responsive,i.responsiveClass&&this.$element.attr("class",function(n,t){return t.replace(/\b owl-responsive-\S+/g,"")}).addClass("owl-responsive-"+t)):i=n.extend({},this.options);(null===this.settings||this._breakpoint!==t)&&(this.trigger("change",{property:{name:"settings",value:i}}),this._breakpoint=t,this.settings=i,this.invalidate("settings"),this.trigger("changed",{property:{name:"settings",value:this.settings}}))};u.prototype.optionsLogic=function(){this.$element.toggleClass("owl-center",this.settings.center);this.settings.loop&&this._items.length<this.settings.items&&(this.settings.loop=!1);this.settings.autoWidth&&(this.settings.stagePadding=!1,this.settings.merge=!1)};u.prototype.prepare=function(t){var i=this.trigger("prepare",{content:t});return i.data||(i.data=n("<"+this.settings.itemElement+"/>").addClass(this.settings.itemClass).append(t)),this.trigger("prepared",{content:i.data}),i.data};u.prototype.update=function(){for(var t=0,i=this._pipe.length,r=n.proxy(function(n){return this[n]},this._invalidated),u={};i>t;)(this._invalidated.all||n.grep(this._pipe[t].filter,r).length>0)&&this._pipe[t].run(u),t++;this._invalidated={}};u.prototype.width=function(n){switch(n=n||u.Width.Default){case u.Width.Inner:case u.Width.Outer:return this._width;default:return this._width-2*this.settings.stagePadding+this.settings.margin}};u.prototype.refresh=function(){if(0===this._items.length)return!1;(new Date).getTime();this.trigger("refresh");this.setup();this.optionsLogic();this.$stage.addClass("owl-refresh");this.update();this.$stage.removeClass("owl-refresh");this.state.orientation=t.orientation;this.watchVisibility();this.trigger("refreshed")};u.prototype.eventsCall=function(){this.e._onDragStart=n.proxy(function(n){this.onDragStart(n)},this);this.e._onDragMove=n.proxy(function(n){this.onDragMove(n)},this);this.e._onDragEnd=n.proxy(function(n){this.onDragEnd(n)},this);this.e._onResize=n.proxy(function(n){this.onResize(n)},this);this.e._transitionEnd=n.proxy(function(n){this.transitionEnd(n)},this);this.e._preventClick=n.proxy(function(n){this.preventClick(n)},this)};u.prototype.onThrottledResize=function(){t.clearTimeout(this.resizeTimer);this.resizeTimer=t.setTimeout(this.e._onResize,this.settings.responsiveRefreshRate)};u.prototype.onResize=function(){return this._items.length?this._width===this.$element.width()?!1:this.trigger("resize").isDefaultPrevented()?!1:(this._width=this.$element.width(),this.invalidate("width"),this.refresh(),void this.trigger("resized")):!1};u.prototype.eventsRouter=function(n){var t=n.type;"mousedown"===t||"touchstart"===t?this.onDragStart(n):"mousemove"===t||"touchmove"===t?this.onDragMove(n):"mouseup"===t||"touchend"===t?this.onDragEnd(n):"touchcancel"===t&&this.onDragEnd(n)};u.prototype.internalEvents=function(){var i=(v(),y());this.settings.mouseDrag?(this.$stage.on("mousedown",n.proxy(function(n){this.eventsRouter(n)},this)),this.$stage.on("dragstart",function(){return!1}),this.$stage.get(0).onselectstart=function(){return!1}):this.$element.addClass("owl-text-select-on");this.settings.touchDrag&&!i&&this.$stage.on("touchstart touchcancel",n.proxy(function(n){this.eventsRouter(n)},this));this.transitionEndVendor&&this.on(this.$stage.get(0),this.transitionEndVendor,this.e._transitionEnd,!1);this.settings.responsive!==!1&&this.on(t,"resize",n.proxy(this.onThrottledResize,this))};u.prototype.onDragStart=function(r){var u,e,s,o;if(u=r.originalEvent||r||t.event,3===u.which||this.state.isTouch)return!1;if("mousedown"===u.type&&this.$stage.addClass("owl-grab"),this.trigger("drag"),this.drag.startTime=(new Date).getTime(),this.speed(0),this.state.isTouch=!0,this.state.isScrolling=!1,this.state.isSwiping=!1,this.drag.distance=0,e=f(u).x,s=f(u).y,this.drag.offsetX=this.$stage.position().left,this.drag.offsetY=this.$stage.position().top,this.settings.rtl&&(this.drag.offsetX=this.$stage.position().left+this.$stage.width()-this.width()+this.settings.margin),this.state.inMotion&&this.support3d)o=this.getTransformProperty(),this.drag.offsetX=o,this.animate(o),this.state.inMotion=!0;else if(this.state.inMotion&&!this.support3d)return this.state.inMotion=!1,!1;this.drag.startX=e-this.drag.offsetX;this.drag.startY=s-this.drag.offsetY;this.drag.start=e-this.drag.startX;this.drag.targetEl=u.target||u.srcElement;this.drag.updatedX=this.drag.start;("IMG"===this.drag.targetEl.tagName||"A"===this.drag.targetEl.tagName)&&(this.drag.targetEl.draggable=!1);n(i).on("mousemove.owl.dragEvents mouseup.owl.dragEvents touchmove.owl.dragEvents touchend.owl.dragEvents",n.proxy(function(n){this.eventsRouter(n)},this))};u.prototype.onDragMove=function(n){var i,e,o,s,h,u;this.state.isTouch&&(this.state.isScrolling||(i=n.originalEvent||n||t.event,e=f(i).x,o=f(i).y,this.drag.currentX=e-this.drag.startX,this.drag.currentY=o-this.drag.startY,this.drag.distance=this.drag.currentX-this.drag.offsetX,this.drag.distance<0?this.state.direction=this.settings.rtl?"right":"left":this.drag.distance>0&&(this.state.direction=this.settings.rtl?"left":"right"),this.settings.loop?this.op(this.drag.currentX,">",this.coordinates(this.minimum()))&&"right"===this.state.direction?this.drag.currentX-=(this.settings.center&&this.coordinates(0))-this.coordinates(this._items.length):this.op(this.drag.currentX,"<",this.coordinates(this.maximum()))&&"left"===this.state.direction&&(this.drag.currentX+=(this.settings.center&&this.coordinates(0))-this.coordinates(this._items.length)):(s=this.coordinates(this.settings.rtl?this.maximum():this.minimum()),h=this.coordinates(this.settings.rtl?this.minimum():this.maximum()),u=this.settings.pullDrag?this.drag.distance/5:0,this.drag.currentX=Math.max(Math.min(this.drag.currentX,s+u),h+u)),(this.drag.distance>8||this.drag.distance<-8)&&(i.preventDefault!==r?i.preventDefault():i.returnValue=!1,this.state.isSwiping=!0),this.drag.updatedX=this.drag.currentX,(this.drag.currentY>16||this.drag.currentY<-16)&&this.state.isSwiping===!1&&(this.state.isScrolling=!0,this.drag.updatedX=this.drag.start),this.animate(this.drag.updatedX)))};u.prototype.onDragEnd=function(t){var u,f,r;if(this.state.isTouch){if("mouseup"===t.type&&this.$stage.removeClass("owl-grab"),this.trigger("dragged"),this.drag.targetEl.removeAttribute("draggable"),this.state.isTouch=!1,this.state.isScrolling=!1,this.state.isSwiping=!1,0===this.drag.distance&&this.state.inMotion!==!0)return this.state.inMotion=!1,!1;this.drag.endTime=(new Date).getTime();u=this.drag.endTime-this.drag.startTime;f=Math.abs(this.drag.distance);(f>3||u>300)&&this.removeClick(this.drag.targetEl);r=this.closest(this.drag.updatedX);this.speed(this.settings.dragEndSpeed||this.settings.smartSpeed);this.current(r);this.invalidate("position");this.update();this.settings.pullDrag||this.drag.updatedX!==this.coordinates(r)||this.transitionEnd();this.drag.distance=0;n(i).off(".owl.dragEvents")}};u.prototype.removeClick=function(i){this.drag.targetEl=i;n(i).on("click.preventClick",this.e._preventClick);t.setTimeout(function(){n(i).off("click.preventClick")},300)};u.prototype.preventClick=function(t){t.preventDefault?t.preventDefault():t.returnValue=!1;t.stopPropagation&&t.stopPropagation();n(t.target).off("click.preventClick")};u.prototype.getTransformProperty=function(){var n,i;return n=t.getComputedStyle(this.$stage.get(0),null).getPropertyValue(this.vendorName+"transform"),n=n.replace(/matrix(3d)?\(|\)/g,"").split(","),i=16===n.length,i!==!0?n[4]:n[12]};u.prototype.closest=function(t){var i=-1,u=30,f=this.width(),r=this.coordinates();return this.settings.freeDrag||n.each(r,n.proxy(function(n,e){return t>e-u&&e+u>t?i=n:this.op(t,"<",e)&&this.op(t,">",r[n+1]||e-f)&&(i="left"===this.state.direction?n+1:n),-1===i},this)),this.settings.loop||(this.op(t,">",r[this.minimum()])?i=t=this.minimum():this.op(t,"<",r[this.maximum()])&&(i=t=this.maximum())),i};u.prototype.animate=function(t){this.trigger("translate");this.state.inMotion=this.speed()>0;this.support3d?this.$stage.css({transform:"translate3d("+t+"px,0px, 0px)",transition:this.speed()/1e3+"s"}):this.state.isTouch?this.$stage.css({left:t+"px"}):this.$stage.animate({left:t},this.speed()/1e3,this.settings.fallbackEasing,n.proxy(function(){this.state.inMotion&&this.transitionEnd()},this))};u.prototype.current=function(n){if(n===r)return this._current;if(0===this._items.length)return r;if(n=this.normalize(n),this._current!==n){var t=this.trigger("change",{property:{name:"position",value:n}});t.data!==r&&(n=this.normalize(t.data));this._current=n;this.invalidate("position");this.trigger("changed",{property:{name:"position",value:this._current}})}return this._current};u.prototype.invalidate=function(n){this._invalidated[n]=!0};u.prototype.reset=function(n){n=this.normalize(n);n!==r&&(this._speed=0,this._current=n,this.suppress(["translate","translated"]),this.animate(this.coordinates(n)),this.release(["translate","translated"]))};u.prototype.normalize=function(t,i){var u=i?this._items.length:this._items.length+this._clones.length;return!n.isNumeric(t)||1>u?r:t=this._clones.length?(t%u+u)%u:Math.max(this.minimum(i),Math.min(this.maximum(i),t))};u.prototype.relative=function(n){return n=this.normalize(n),n-=this._clones.length/2,this.normalize(n,!0)};u.prototype.maximum=function(n){var i,r,u,f=0,t=this.settings;if(n)return this._items.length-1;if(!t.loop&&t.center)i=this._items.length-1;else if(t.loop||t.center)if(t.loop||t.center)i=this._items.length+t.items;else{if(!t.autoWidth&&!t.merge)throw"Can not detect maximum absolute position.";for(revert=t.rtl?1:-1,r=this.$stage.width()-this.$element.width();(u=this.coordinates(f))&&!(u*revert>=r);)i=++f}else i=this._items.length-t.items;return i};u.prototype.minimum=function(n){return n?0:this._clones.length/2};u.prototype.items=function(n){return n===r?this._items.slice():(n=this.normalize(n,!0),this._items[n])};u.prototype.mergers=function(n){return n===r?this._mergers.slice():(n=this.normalize(n,!0),this._mergers[n])};u.prototype.clones=function(t){var i=this._clones.length/2,f=i+this._items.length,u=function(n){return n%2==0?f+n/2:i-(n+1)/2};return t===r?n.map(this._clones,function(n,t){return u(t)}):n.map(this._clones,function(n,i){return n===t?u(i):null})};u.prototype.speed=function(n){return n!==r&&(this._speed=n),this._speed};u.prototype.coordinates=function(t){var i=null;return t===r?n.map(this._coordinates,n.proxy(function(n,t){return this.coordinates(t)},this)):(this.settings.center?(i=this._coordinates[t],i+=(this.width()-i+(this._coordinates[t-1]||0))/2*(this.settings.rtl?-1:1)):i=this._coordinates[t-1]||0,i)};u.prototype.duration=function(n,t,i){return Math.min(Math.max(Math.abs(t-n),1),6)*Math.abs(i||this.settings.smartSpeed)};u.prototype.to=function(i,r){if(this.settings.loop){var f=i-this.relative(this.current()),u=this.current(),e=this.current(),o=this.current()+f,s=0>e-o?!0:!1,h=this._clones.length+this._items.length;o<this.settings.items&&s===!1?(u=e+this._items.length,this.reset(u)):o>=h-this.settings.items&&s===!0&&(u=e-this._items.length,this.reset(u));t.clearTimeout(this.e._goToLoop);this.e._goToLoop=t.setTimeout(n.proxy(function(){this.speed(this.duration(this.current(),u+f,r));this.current(u+f);this.update()},this),30)}else this.speed(this.duration(this.current(),i,r)),this.current(i),this.update()};u.prototype.next=function(n){n=n||!1;this.to(this.relative(this.current())+1,n)};u.prototype.prev=function(n){n=n||!1;this.to(this.relative(this.current())-1,n)};u.prototype.transitionEnd=function(n){return n!==r&&(n.stopPropagation(),(n.target||n.srcElement||n.originalTarget)!==this.$stage.get(0))?!1:(this.state.inMotion=!1,void this.trigger("translated"))};u.prototype.viewport=function(){var r;if(this.options.responsiveBaseElement!==t)r=n(this.options.responsiveBaseElement).width();else if(t.innerWidth)r=t.innerWidth;else{if(!i.documentElement||!i.documentElement.clientWidth)throw"Can not detect viewport width.";r=i.documentElement.clientWidth}return r};u.prototype.replace=function(t){this.$stage.empty();this._items=[];t&&(t=t instanceof jQuery?t:n(t));this.settings.nestedItemSelector&&(t=t.find("."+this.settings.nestedItemSelector));t.filter(function(){return 1===this.nodeType}).each(n.proxy(function(n,t){t=this.prepare(t);this.$stage.append(t);this._items.push(t);this._mergers.push(1*t.find("[data-merge]").andSelf("[data-merge]").attr("data-merge")||1)},this));this.reset(n.isNumeric(this.settings.startPosition)?this.settings.startPosition:0);this.invalidate("items")};u.prototype.add=function(n,t){t=t===r?this._items.length:this.normalize(t,!0);this.trigger("add",{content:n,position:t});0===this._items.length||t===this._items.length?(this.$stage.append(n),this._items.push(n),this._mergers.push(1*n.find("[data-merge]").andSelf("[data-merge]").attr("data-merge")||1)):(this._items[t].before(n),this._items.splice(t,0,n),this._mergers.splice(t,0,1*n.find("[data-merge]").andSelf("[data-merge]").attr("data-merge")||1));this.invalidate("items");this.trigger("added",{content:n,position:t})};u.prototype.remove=function(n){n=this.normalize(n,!0);n!==r&&(this.trigger("remove",{content:this._items[n],position:n}),this._items[n].remove(),this._items.splice(n,1),this._mergers.splice(n,1),this.invalidate("items"),this.trigger("removed",{content:null,position:n}))};u.prototype.addTriggerableEvents=function(){var t=n.proxy(function(t,i){return n.proxy(function(n){n.relatedTarget!==this&&(this.suppress([i]),t.apply(this,[].slice.call(arguments,1)),this.release([i]))},this)},this);n.each({next:this.next,prev:this.prev,to:this.to,destroy:this.destroy,refresh:this.refresh,replace:this.replace,add:this.add,remove:this.remove},n.proxy(function(n,i){this.$element.on(n+".owl.carousel",t(i,n+".owl.carousel"))},this))};u.prototype.watchVisibility=function(){function i(n){return n.offsetWidth>0&&n.offsetHeight>0}function r(){i(this.$element.get(0))&&(this.$element.removeClass("owl-hidden"),this.refresh(),t.clearInterval(this.e._checkVisibile))}i(this.$element.get(0))||(this.$element.addClass("owl-hidden"),t.clearInterval(this.e._checkVisibile),this.e._checkVisibile=t.setInterval(n.proxy(r,this),500))};u.prototype.preloadAutoWidthImages=function(t){var u,f,i,r;u=0;f=this;t.each(function(e,o){i=n(o);r=new Image;r.onload=function(){u++;i.attr("src",r.src);i.css("opacity",1);u>=t.length&&(f.state.imagesLoaded=!0,f.initialize())};r.src=i.attr("src")||i.attr("data-src")||i.attr("data-src-retina")})};u.prototype.destroy=function(){this.$element.hasClass(this.settings.themeClass)&&this.$element.removeClass(this.settings.themeClass);this.settings.responsive!==!1&&n(t).off("resize.owl.carousel");this.transitionEndVendor&&this.off(this.$stage.get(0),this.transitionEndVendor,this.e._transitionEnd);for(var r in this._plugins)this._plugins[r].destroy();(this.settings.mouseDrag||this.settings.touchDrag)&&(this.$stage.off("mousedown touchstart touchcancel"),n(i).off(".owl.dragEvents"),this.$stage.get(0).onselectstart=function(){},this.$stage.off("dragstart",function(){return!1}));this.$element.off(".owl");this.$stage.children(".cloned").remove();this.e=null;this.$element.removeData("owlCarousel");this.$stage.children().contents().unwrap();this.$stage.children().unwrap();this.$stage.unwrap()};u.prototype.op=function(n,t,i){var r=this.settings.rtl;switch(t){case"<":return r?n>i:i>n;case">":return r?i>n:n>i;case">=":return r?i>=n:n>=i;case"<=":return r?n>=i:i>=n}};u.prototype.on=function(n,t,i,r){n.addEventListener?n.addEventListener(t,i,r):n.attachEvent&&n.attachEvent("on"+t,i)};u.prototype.off=function(n,t,i,r){n.removeEventListener?n.removeEventListener(t,i,r):n.detachEvent&&n.detachEvent("on"+t,i)};u.prototype.trigger=function(t,i,r){var e={item:{count:this._items.length,index:this.current()}},f=n.camelCase(n.grep(["on",t,r],function(n){return n}).join("-").toLowerCase()),u=n.Event([t,"owl",r||"carousel"].join(".").toLowerCase(),n.extend({relatedTarget:this},e,i));return this._supress[t]||(n.each(this._plugins,function(n,t){t.onTrigger&&t.onTrigger(u)}),this.$element.trigger(u),this.settings&&"function"==typeof this.settings[f]&&this.settings[f].apply(this,u)),u};u.prototype.suppress=function(t){n.each(t,n.proxy(function(n,t){this._supress[t]=!0},this))};u.prototype.release=function(t){n.each(t,n.proxy(function(n,t){delete this._supress[t]},this))};u.prototype.browserSupport=function(){if(this.support3d=a(),this.support3d){this.transformVendor=l();this.transitionEndVendor=["transitionend","webkitTransitionEnd","transitionend","oTransitionEnd"][c()];this.vendorName=this.transformVendor.replace(/Transform/i,"");this.vendorName=""!==this.vendorName?"-"+this.vendorName.toLowerCase()+"-":""}this.state.orientation=t.orientation};n.fn.owlCarousel=function(t){return this.each(function(){n(this).data("owlCarousel")||n(this).data("owlCarousel",new u(this,t))})};n.fn.owlCarousel.Constructor=u}(window.Zepto||window.jQuery,window,document),function(n,t){var i=function(t){this._core=t;this._loaded=[];this._handlers={"initialized.owl.carousel change.owl.carousel":n.proxy(function(t){if(t.namespace&&this._core.settings&&this._core.settings.lazyLoad&&(t.property&&"position"==t.property.name||"initialized"==t.type))for(var i=this._core.settings,r=i.center&&Math.ceil(i.items/2)||i.items,u=i.center&&-1*r||0,f=(t.property&&t.property.value||this._core.current())+u,e=this._core.clones().length,o=n.proxy(function(n,t){this.load(t)},this);u++<r;)this.load(e/2+this._core.relative(f)),e&&n.each(this._core.clones(this._core.relative(f++)),o)},this)};this._core.options=n.extend({},i.Defaults,this._core.options);this._core.$element.on(this._handlers)};i.Defaults={lazyLoad:!1};i.prototype.load=function(i){var r=this._core.$stage.children().eq(i),u=r&&r.find(".owl-lazy");!u||n.inArray(r.get(0),this._loaded)>-1||(u.each(n.proxy(function(i,r){var e,u=n(r),f=t.devicePixelRatio>1&&u.attr("data-src-retina")||u.attr("data-src");this._core.trigger("load",{element:u,url:f},"lazy");u.is("img")?u.one("load.owl.lazy",n.proxy(function(){u.css("opacity",1);this._core.trigger("loaded",{element:u,url:f},"lazy")},this)).attr("src",f):(e=new Image,e.onload=n.proxy(function(){u.css({"background-image":"url("+f+")",opacity:"1"});this._core.trigger("loaded",{element:u,url:f},"lazy")},this),e.src=f)},this)),this._loaded.push(r.get(0)))};i.prototype.destroy=function(){var n,t;for(n in this.handlers)this._core.$element.off(n,this.handlers[n]);for(t in Object.getOwnPropertyNames(this))"function"!=typeof this[t]&&(this[t]=null)};n.fn.owlCarousel.Constructor.Plugins.Lazy=i}(window.Zepto||window.jQuery,window,document),function(n){var t=function(i){this._core=i;this._handlers={"initialized.owl.carousel":n.proxy(function(){this._core.settings.autoHeight&&this.update()},this),"changed.owl.carousel":n.proxy(function(n){this._core.settings.autoHeight&&"position"==n.property.name&&this.update()},this),"loaded.owl.lazy":n.proxy(function(n){this._core.settings.autoHeight&&n.element.closest("."+this._core.settings.itemClass)===this._core.$stage.children().eq(this._core.current())&&this.update()},this)};this._core.options=n.extend({},t.Defaults,this._core.options);this._core.$element.on(this._handlers)};t.Defaults={autoHeight:!1,autoHeightClass:"owl-height"};t.prototype.update=function(){this._core.$stage.parent().height(this._core.$stage.children().eq(this._core.current()).height()).addClass(this._core.settings.autoHeightClass)};t.prototype.destroy=function(){var n,t;for(n in this._handlers)this._core.$element.off(n,this._handlers[n]);for(t in Object.getOwnPropertyNames(this))"function"!=typeof this[t]&&(this[t]=null)};n.fn.owlCarousel.Constructor.Plugins.AutoHeight=t}(window.Zepto||window.jQuery,window,document),function(n,t,i){var r=function(t){this._core=t;this._videos={};this._playing=null;this._fullscreen=!1;this._handlers={"resize.owl.carousel":n.proxy(function(n){this._core.settings.video&&!this.isInFullScreen()&&n.preventDefault()},this),"refresh.owl.carousel changed.owl.carousel":n.proxy(function(){this._playing&&this.stop()},this),"prepared.owl.carousel":n.proxy(function(t){var i=n(t.content).find(".owl-video");i.length&&(i.css("display","none"),this.fetch(i,n(t.content)))},this)};this._core.options=n.extend({},r.Defaults,this._core.options);this._core.$element.on(this._handlers);this._core.$element.on("click.owl.video",".owl-video-play-icon",n.proxy(function(n){this.play(n)},this))};r.Defaults={video:!1,videoHeight:!1,videoWidth:!1};r.prototype.fetch=function(n,t){var u=n.attr("data-vimeo-id")?"vimeo":"youtube",i=n.attr("data-vimeo-id")||n.attr("data-youtube-id"),f=n.attr("data-width")||this._core.settings.videoWidth,e=n.attr("data-height")||this._core.settings.videoHeight,r=n.attr("href");if(!r)throw new Error("Missing video URL.");if(i=r.match(/(http:|https:|)\/\/(player.|www.)?(vimeo\.com|youtu(be\.com|\.be|be\.googleapis\.com))\/(video\/|embed\/|watch\?v=|v\/)?([A-Za-z0-9._%-]*)(\&\S+)?/),i[3].indexOf("youtu")>-1)u="youtube";else{if(!(i[3].indexOf("vimeo")>-1))throw new Error("Video URL not supported.");u="vimeo"}i=i[6];this._videos[r]={type:u,id:i,width:f,height:e};t.attr("data-video",r);this.thumbnail(n,this._videos[r])};r.prototype.thumbnail=function(t,i){var o,s,r,c=i.width&&i.height?'style="width:'+i.width+"px;height:"+i.height+'px;"':"",u=t.find("img"),f="src",h="",l=this._core.settings,e=function(n){s='<div class="owl-video-play-icon"><\/div>';o=l.lazyLoad?'<div class="owl-video-tn '+h+'" '+f+'="'+n+'"><\/div>':'<div class="owl-video-tn" style="opacity:1;background-image:url('+n+')"><\/div>';t.after(o);t.after(s)};return t.wrap('<div class="owl-video-wrapper"'+c+"><\/div>"),this._core.settings.lazyLoad&&(f="data-src",h="owl-lazy"),u.length?(e(u.attr(f)),u.remove(),!1):void("youtube"===i.type?(r="http://img.youtube.com/vi/"+i.id+"/hqdefault.jpg",e(r)):"vimeo"===i.type&&n.ajax({type:"GET",url:"http://vimeo.com/api/v2/video/"+i.id+".json",jsonp:"callback",dataType:"jsonp",success:function(n){r=n[0].thumbnail_large;e(r)}}))};r.prototype.stop=function(){this._core.trigger("stop",null,"video");this._playing.find(".owl-video-frame").remove();this._playing.removeClass("owl-video-playing");this._playing=null};r.prototype.play=function(t){this._core.trigger("play",null,"video");this._playing&&this.stop();var r,o,s=n(t.target||t.srcElement),u=s.closest("."+this._core.settings.itemClass),i=this._videos[u.attr("data-video")],f=i.width||"100%",e=i.height||this._core.$stage.height();"youtube"===i.type?r='<iframe width="'+f+'" height="'+e+'" src="http://www.youtube.com/embed/'+i.id+"?autoplay=1&v="+i.id+'" frameborder="0" allowfullscreen><\/iframe>':"vimeo"===i.type&&(r='<iframe src="http://player.vimeo.com/video/'+i.id+'?autoplay=1" width="'+f+'" height="'+e+'" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen><\/iframe>');u.addClass("owl-video-playing");this._playing=u;o=n('<div style="height:'+e+"px; width:"+f+'px" class="owl-video-frame">'+r+"<\/div>");s.after(o)};r.prototype.isInFullScreen=function(){var r=i.fullscreenElement||i.mozFullScreenElement||i.webkitFullscreenElement;return r&&n(r).parent().hasClass("owl-video-frame")&&(this._core.speed(0),this._fullscreen=!0),r&&this._fullscreen&&this._playing?!1:this._fullscreen?(this._fullscreen=!1,!1):this._playing&&this._core.state.orientation!==t.orientation?(this._core.state.orientation=t.orientation,!1):!0};r.prototype.destroy=function(){var n,t;this._core.$element.off("click.owl.video");for(n in this._handlers)this._core.$element.off(n,this._handlers[n]);for(t in Object.getOwnPropertyNames(this))"function"!=typeof this[t]&&(this[t]=null)};n.fn.owlCarousel.Constructor.Plugins.Video=r}(window.Zepto||window.jQuery,window,document),function(n,t,i,r){var u=function(t){this.core=t;this.core.options=n.extend({},u.Defaults,this.core.options);this.swapping=!0;this.previous=r;this.next=r;this.handlers={"change.owl.carousel":n.proxy(function(n){"position"==n.property.name&&(this.previous=this.core.current(),this.next=n.property.value)},this),"drag.owl.carousel dragged.owl.carousel translated.owl.carousel":n.proxy(function(n){this.swapping="translated"==n.type},this),"translate.owl.carousel":n.proxy(function(){this.swapping&&(this.core.options.animateOut||this.core.options.animateIn)&&this.swap()},this)};this.core.$element.on(this.handlers)};u.Defaults={animateOut:!1,animateIn:!1};u.prototype.swap=function(){if(1===this.core.settings.items&&this.core.support3d){this.core.speed(0);var t,i=n.proxy(this.clear,this),f=this.core.$stage.children().eq(this.previous),e=this.core.$stage.children().eq(this.next),r=this.core.settings.animateIn,u=this.core.settings.animateOut;this.core.current()!==this.previous&&(u&&(t=this.core.coordinates(this.previous)-this.core.coordinates(this.next),f.css({left:t+"px"}).addClass("animated owl-animated-out").addClass(u).one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",i)),r&&e.addClass("animated owl-animated-in").addClass(r).one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",i))}};u.prototype.clear=function(t){n(t.target).css({left:""}).removeClass("animated owl-animated-out owl-animated-in").removeClass(this.core.settings.animateIn).removeClass(this.core.settings.animateOut);this.core.transitionEnd()};u.prototype.destroy=function(){var n,t;for(n in this.handlers)this.core.$element.off(n,this.handlers[n]);for(t in Object.getOwnPropertyNames(this))"function"!=typeof this[t]&&(this[t]=null)};n.fn.owlCarousel.Constructor.Plugins.Animate=u}(window.Zepto||window.jQuery,window,document),function(n,t,i){var r=function(t){this.core=t;this.core.options=n.extend({},r.Defaults,this.core.options);this.handlers={"translated.owl.carousel refreshed.owl.carousel":n.proxy(function(){this.autoplay()},this),"play.owl.autoplay":n.proxy(function(n,t,i){this.play(t,i)},this),"stop.owl.autoplay":n.proxy(function(){this.stop()},this),"mouseover.owl.autoplay":n.proxy(function(){this.core.settings.autoplayHoverPause&&this.pause()},this),"mouseleave.owl.autoplay":n.proxy(function(){this.core.settings.autoplayHoverPause&&this.autoplay()},this)};this.core.$element.on(this.handlers)};r.Defaults={autoplay:!1,autoplayTimeout:5e3,autoplayHoverPause:!1,autoplaySpeed:!1};r.prototype.autoplay=function(){this.core.settings.autoplay&&!this.core.state.videoPlay?(t.clearInterval(this.interval),this.interval=t.setInterval(n.proxy(function(){this.play()},this),this.core.settings.autoplayTimeout)):t.clearInterval(this.interval)};r.prototype.play=function(){if(i.hidden!==!0&&!this.core.state.isTouch&&!this.core.state.isScrolling&&!this.core.state.isSwiping&&!this.core.state.inMotion)return this.core.settings.autoplay===!1?void t.clearInterval(this.interval):void this.core.next(this.core.settings.autoplaySpeed)};r.prototype.stop=function(){t.clearInterval(this.interval)};r.prototype.pause=function(){t.clearInterval(this.interval)};r.prototype.destroy=function(){var n,i;t.clearInterval(this.interval);for(n in this.handlers)this.core.$element.off(n,this.handlers[n]);for(i in Object.getOwnPropertyNames(this))"function"!=typeof this[i]&&(this[i]=null)};n.fn.owlCarousel.Constructor.Plugins.autoplay=r}(window.Zepto||window.jQuery,window,document),function(n){"use strict";var t=function(i){this._core=i;this._initialized=!1;this._pages=[];this._controls={};this._templates=[];this.$element=this._core.$element;this._overrides={next:this._core.next,prev:this._core.prev,to:this._core.to};this._handlers={"prepared.owl.carousel":n.proxy(function(t){this._core.settings.dotsData&&this._templates.push(n(t.content).find("[data-dot]").andSelf("[data-dot]").attr("data-dot"))},this),"add.owl.carousel":n.proxy(function(t){this._core.settings.dotsData&&this._templates.splice(t.position,0,n(t.content).find("[data-dot]").andSelf("[data-dot]").attr("data-dot"))},this),"remove.owl.carousel prepared.owl.carousel":n.proxy(function(n){this._core.settings.dotsData&&this._templates.splice(n.position,1)},this),"change.owl.carousel":n.proxy(function(n){if("position"==n.property.name&&!this._core.state.revert&&!this._core.settings.loop&&this._core.settings.navRewind){var r=this._core.current(),t=this._core.maximum(),i=this._core.minimum();n.data=n.property.value>t?r>=t?i:t:n.property.value<i?t:n.property.value}},this),"changed.owl.carousel":n.proxy(function(n){"position"==n.property.name&&this.draw()},this),"refreshed.owl.carousel":n.proxy(function(){this._initialized||(this.initialize(),this._initialized=!0);this._core.trigger("refresh",null,"navigation");this.update();this.draw();this._core.trigger("refreshed",null,"navigation")},this)};this._core.options=n.extend({},t.Defaults,this._core.options);this.$element.on(this._handlers)};t.Defaults={nav:!1,navRewind:!0,navText:["prev","next"],navSpeed:!1,navElement:"div",navContainer:!1,navContainerClass:"owl-nav",navClass:["owl-prev","owl-next"],slideBy:1,dotClass:"owl-dot",dotsClass:"owl-dots",dots:!0,dotsEach:!1,dotData:!1,dotsSpeed:!1,dotsContainer:!1,controlsClass:"owl-controls"};t.prototype.initialize=function(){var i,r,t=this._core.settings;t.dotsData||(this._templates=[n("<div>").addClass(t.dotClass).append(n("<span>")).prop("outerHTML")]);t.navContainer&&t.dotsContainer||(this._controls.$container=n("<div>").addClass(t.controlsClass).appendTo(this.$element));this._controls.$indicators=t.dotsContainer?n(t.dotsContainer):n("<div>").hide().addClass(t.dotsClass).appendTo(this._controls.$container);this._controls.$indicators.on("click","div",n.proxy(function(i){var r=n(i.target).parent().is(this._controls.$indicators)?n(i.target).index():n(i.target).parent().index();i.preventDefault();this.to(r,t.dotsSpeed)},this));i=t.navContainer?n(t.navContainer):n("<div>").addClass(t.navContainerClass).prependTo(this._controls.$container);this._controls.$next=n("<"+t.navElement+">");this._controls.$previous=this._controls.$next.clone();this._controls.$previous.addClass(t.navClass[0]).html(t.navText[0]).hide().prependTo(i).on("click",n.proxy(function(){this.prev(t.navSpeed)},this));this._controls.$next.addClass(t.navClass[1]).html(t.navText[1]).hide().appendTo(i).on("click",n.proxy(function(){this.next(t.navSpeed)},this));for(r in this._overrides)this._core[r]=n.proxy(this[r],this)};t.prototype.destroy=function(){var n,r,t,i;for(n in this._handlers)this.$element.off(n,this._handlers[n]);for(r in this._controls)this._controls[r].remove();for(i in this.overides)this._core[i]=this._overrides[i];for(t in Object.getOwnPropertyNames(this))"function"!=typeof this[t]&&(this[t]=null)};t.prototype.update=function(){var t,i,u,n=this._core.settings,r=this._core.clones().length/2,e=r+this._core.items().length,f=n.center||n.autoWidth||n.dotData?1:n.dotsEach||n.items;if("page"!==n.slideBy&&(n.slideBy=Math.min(n.slideBy,n.items)),n.dots||"page"==n.slideBy)for(this._pages=[],t=r,i=0,u=0;e>t;t++)(i>=f||0===i)&&(this._pages.push({start:t-r,end:t-r+f-1}),i=0,++u),i+=this._core.mergers(this._core.relative(t))};t.prototype.draw=function(){var i,r,u="",t=this._core.settings,f=(this._core.$stage.children(),this._core.relative(this._core.current()));if(!t.nav||t.loop||t.navRewind||(this._controls.$previous.toggleClass("disabled",0>=f),this._controls.$next.toggleClass("disabled",f>=this._core.maximum())),this._controls.$previous.toggle(t.nav),this._controls.$next.toggle(t.nav),t.dots){if(i=this._pages.length-this._controls.$indicators.children().length,t.dotData&&0!==i){for(r=0;r<this._controls.$indicators.children().length;r++)u+=this._templates[this._core.relative(r)];this._controls.$indicators.html(u)}else i>0?(u=new Array(i+1).join(this._templates[0]),this._controls.$indicators.append(u)):0>i&&this._controls.$indicators.children().slice(i).remove();this._controls.$indicators.find(".active").removeClass("active");this._controls.$indicators.children().eq(n.inArray(this.current(),this._pages)).addClass("active")}this._controls.$indicators.toggle(t.dots)};t.prototype.onTrigger=function(t){var i=this._core.settings;t.page={index:n.inArray(this.current(),this._pages),count:this._pages.length,size:i&&(i.center||i.autoWidth||i.dotData?1:i.dotsEach||i.items)}};t.prototype.current=function(){var t=this._core.relative(this._core.current());return n.grep(this._pages,function(n){return n.start<=t&&n.end>=t}).pop()};t.prototype.getPosition=function(t){var i,r,u=this._core.settings;return"page"==u.slideBy?(i=n.inArray(this.current(),this._pages),r=this._pages.length,t?++i:--i,i=this._pages[(i%r+r)%r].start):(i=this._core.relative(this._core.current()),r=this._core.items().length,t?i+=u.slideBy:i-=u.slideBy),i};t.prototype.next=function(t){n.proxy(this._overrides.to,this._core)(this.getPosition(!0),t)};t.prototype.prev=function(t){n.proxy(this._overrides.to,this._core)(this.getPosition(!1),t)};t.prototype.to=function(t,i,r){var u;r?n.proxy(this._overrides.to,this._core)(t,i):(u=this._pages.length,n.proxy(this._overrides.to,this._core)(this._pages[(t%u+u)%u].start,i))};n.fn.owlCarousel.Constructor.Plugins.Navigation=t}(window.Zepto||window.jQuery,window,document),function(n,t){"use strict";var i=function(r){this._core=r;this._hashes={};this.$element=this._core.$element;this._handlers={"initialized.owl.carousel":n.proxy(function(){"URLHash"==this._core.settings.startPosition&&n(t).trigger("hashchange.owl.navigation")},this),"prepared.owl.carousel":n.proxy(function(t){var i=n(t.content).find("[data-hash]").andSelf("[data-hash]").attr("data-hash");this._hashes[i]=t.content},this)};this._core.options=n.extend({},i.Defaults,this._core.options);this.$element.on(this._handlers);n(t).on("hashchange.owl.navigation",n.proxy(function(){var n=t.location.hash.substring(1),i=this._core.$stage.children(),r=this._hashes[n]&&i.index(this._hashes[n])||0;return n?void this._core.to(r,!1,!0):!1},this))};i.Defaults={URLhashListener:!1};i.prototype.destroy=function(){var i,r;n(t).off("hashchange.owl.navigation");for(i in this._handlers)this._core.$element.off(i,this._handlers[i]);for(r in Object.getOwnPropertyNames(this))"function"!=typeof this[r]&&(this[r]=null)};n.fn.owlCarousel.Constructor.Plugins.Hash=i}(window.Zepto||window.jQuery,window,document);
/*!
 * Custom theme scripts.
 * By: Kukui Corporation
 * Version: 1.0.0
 * Updated: August 15th, 2016
 *
 * Copyright Â© 2016 Kukui Corporation. All rights reserved.
 */
(function(n,t,i){n(function(){function f(n){var u,i;n.length&&(u=n.filter(":visible"),u.length&&r(u),i=n.filter(":hidden"),i.length&&t.eventObserver.attach(function f(){var n=i.filter(":visible");n.length&&(r(n),i=i.not(n),i.length||t.eventObserver.detach(f))},{W:50}))}function e(t){t.length&&(n.uicMaps.InitMapsHandlers(),t.each(function(){n.uicMaps.SetFormItems(n(this).data("uic-map-trigger"))}))}function r(t){n.uicMaps.InitBuilder(function(){var i=t.filter(function(){return n(this).closest('[data-module="directionsform"]').length}),r;n.uicMaps.InitMaps(i,{map:{zoom:19}},{});r=t.not(i);n.uicMaps.InitMaps(r,{map:{zoom:19}},{infoWindows:{openedByDefault:!1}})})}function o(t){t.each(function(){var t=n(this);s(t.find("[data-uic-datepicker]"),t.find("[data-uic-timepicker]"),t.find("[data-uic-ampmpicker]"),t.find("[data-uic-timelistpickers]"))})}function s(t,i,r,u){(t.length||i.length||r.length||u.length)&&n.uicDateTime.InitBuilder({},function(){n.uicDateTime.InitDatePickers(t,{},{});n.uicDateTime.InitTimePickers(i,{});n.uicDateTime.InitAmPmPickers(r,{});n.uicDateTime.InitTimelistPickers(u,{})})}function h(){n("[data-slider]").each(function(){var t=n(this);t.children().length>0?u(t):n.isEmpty(t.data("slider-themesectionid"))?t.remove():n.ajax({url:"/api/json/theme-section/get/"+t.data("slider-themesectionid")}).done(function(i){n.each(i.section,function(n,i){t.append('<div class="'+i.cssclass+'">'+i.value+"<\/div>")});u(t)})})}function u(t){var i=t.children().length,r={},u,f,e;switch(t.data("slider-type")){case"image-carousel":case"vehicle-slider":r={themeClass:"image-carousel",items:3,navText:[],nav:i>3,dots:!1,mouseDrag:i>1,lazyLoad:!0,loop:!0,responsive:{0:{items:1,nav:i>1},550:{items:2,nav:i>2},1e3:{items:3,nav:i>3}}};break;case"image-slideshow":case"slideshow-slider":r={themeClass:"image-slider",items:1,navText:[],nav:i>1,dots:i>1,mouseDrag:i>1,lazyLoad:!0,loop:!0,autoplay:!0,autoplayTimeout:1e4,animateOut:"fadeOut"};break;case"content-slider":case"review-slider":r={themeClass:"content-slider",items:1,navText:[],margin:20,nav:i>1,dots:!1,loop:!0,autoplay:!0,mouseDrag:i>1,autoplayTimeout:1e4,autoplayHoverPause:!0};break;case"content-slideshow":r={themeClass:"content-slideshow",items:1,navText:[],nav:i>1,dots:i>1,mouseDrag:i>1,loop:!0,autoplay:!0,autoplayTimeout:1e4,animateOut:"fadeOut"};break;case"logo-slider":r={items:1,navText:[],nav:i>1,dots:!1,loop:!0,autoplay:!0,autoplayTimeout:1e4,responsive:{0:{items:1,nav:i>1},576:{items:2,nav:i>2},768:{items:3,nav:i>3},992:{items:4,nav:i>4},1224:{items:5,nav:i>5},1620:{items:6,nav:i>7}}};break;case"home-gallery-slider":r={items:1,navText:[],nav:i>1,margin:12,dots:!1,loop:!0,autoplay:!0,autoplayTimeout:1e4,responsive:{0:{items:1,nav:i>1},576:{items:2,nav:i>2},992:{items:2,nav:i>2,stagePadding:175},1224:{items:3,nav:i>3,stagePadding:175},1620:{items:4,nav:i>4,stagePadding:175}}};break;default:r={items:1,nav:i>1,dots:i>1,navText:[]}}u=n('[data-slider-progress="'+t.data("slider")+'"]');f=n('[data-slider-navigation="'+t.data("slider")+'"]');(f.length||u.length)&&(r.dotsContainer=u,r.navContainer=f);e=t.find("[data-src]");e.length&&(e.filter(":not(.owl-lazy)").addClass("owl-lazy"),r.lazyLoad=!0,r.loop=!0);i==1&&(r.loop=!1);t.owlCarousel(r)}var c=n(t),l=n(i);n.uicPanels.create({key:"uic-panel"});n.uicSRatings.create({key:"uic-rating"});n.uicFormControls.attach({key:"uic-formcontrols"});n.uicScrollTo.create({key:"uic-scrollto"});n.uicLayoutPush.create({key:"uic-layoutpush"});n.uicAccordion.create({key:"uic-accordion"});n.uicPhoneLinks.create();n.uicSocialLoader.create({key:"uic-socialitem"});n.uicResponsiveNavigations.create({key:"uic-nav"});n.uicTabs.create({key:"uic-tabs"});n.uicClassToggle.create({key:"uic-csstoggle"});n.uicNavigation.create({key:"uic-navigation"});f(n("[data-uic-map]"));e(n("[data-uic-map-trigger]"));o(n('[data-module*="appointments"][data-module*="form"]'));h(n("[data-slider]"))})})(jQuery,window,document);